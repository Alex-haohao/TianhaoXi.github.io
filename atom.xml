<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://TianhaoXi.github.io</id>
    <title>Alexä¸ªäººåšå®¢</title>
    <updated>2020-09-01T05:36:57.593Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://TianhaoXi.github.io"/>
    <link rel="self" href="https://TianhaoXi.github.io/atom.xml"/>
    <subtitle>å­¦ä¹ ï¼Œåˆ†äº«ï¼Œè¿›æ­¥</subtitle>
    <logo>https://TianhaoXi.github.io/images/avatar.png</logo>
    <icon>https://TianhaoXi.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, Alexä¸ªäººåšå®¢</rights>
    <entry>
        <title type="html"><![CDATA[Promise å¹¶å‘é™åˆ¶]]></title>
        <id>https://TianhaoXi.github.io/post/promise-bing-fa-xian-zhi/</id>
        <link href="https://TianhaoXi.github.io/post/promise-bing-fa-xian-zhi/">
        </link>
        <updated>2020-08-31T02:50:13.000Z</updated>
        <content type="html"><![CDATA[<p>function asyncPool(poolLimit, array, iteratorFn) {<br>
let i = 0;<br>
const ret = [];<br>
const executing = [];<br>
const enqueue = function () {<br>
// è¾¹ç•Œå¤„ç†ï¼Œarrayä¸ºç©ºæ•°ç»„<br>
if (i === array.length) {<br>
return Promise.resolve();<br>
}<br>
// æ¯è°ƒä¸€æ¬¡enqueueï¼Œåˆå§‹åŒ–ä¸€ä¸ªpromise<br>
const item = array[i++];<br>
const p = Promise.resolve().then(() =&gt; iteratorFn(item, array));<br>
// æ”¾å…¥promisesæ•°ç»„<br>
ret.push(p);<br>
// promiseæ‰§è¡Œå®Œæ¯•ï¼Œä»executingæ•°ç»„ä¸­åˆ é™¤<br>
const e = p.then(() =&gt; executing.splice(executing.indexOf(e), 1));<br>
// æ’å…¥executingæ•°å­—ï¼Œè¡¨ç¤ºæ­£åœ¨æ‰§è¡Œçš„promise<br>
executing.push(e);<br>
// ä½¿ç”¨Promise.receï¼Œæ¯å½“executingæ•°ç»„ä¸­promiseæ•°é‡ä½äºpoolLimitï¼Œå°±å®ä¾‹åŒ–æ–°çš„promiseå¹¶æ‰§è¡Œ<br>
let r = Promise.resolve();<br>
if (executing.length &gt;= poolLimit) {<br>
r = Promise.race(executing);<br>
}<br>
// é€’å½’ï¼Œç›´åˆ°éå†å®Œarray<br>
return r.then(() =&gt; enqueue());<br>
};<br>
return enqueue().then(() =&gt; Promise.all(ret));<br>
}</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å„ç§æ’åº]]></title>
        <id>https://TianhaoXi.github.io/post/ge-chong-pai-xu/</id>
        <link href="https://TianhaoXi.github.io/post/ge-chong-pai-xu/">
        </link>
        <updated>2020-08-29T00:30:02.000Z</updated>
        <content type="html"><![CDATA[<p>// éå†ä¸€é</p>
<p>// äºŒåˆ†æŸ¥æ‰¾  iteration<br>
function binary_search(array,key){<br>
var low = 0;<br>
var high = array.length -1;</p>
<pre><code>while(low &lt;=high){
    var mid = Math.floor((low+high)/2)
    if(array[mid] ==key){
        return mid
    }
    else if(array[mid]&lt;key){
        low = mid+1
    }
    else if(array[mid]&gt;key){
        high = mid-1
    }
    else{
        return -1
    }
}
</code></pre>
<p>}</p>
<p>// Bubble sort</p>
<p>function swap(obj, a, b) { var tmp = obj[a]; obj[a] = obj[b]; obj[b] = tmp; }</p>
<p>function bubbleSort(arr) {<br>
let len = arr.length;</p>
<p>for (let i = 0; i &lt; len; i++) {<br>
for (let j = 0; j &lt; len - i - 1; j++) {<br>
if (arr[j] &gt; arr[j + 1]) {  // ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯”<br>
swap(array,j,j+1)<br>
}<br>
}<br>
}</p>
<p>return arr;<br>
}</p>
<p>var array = [3,5,1,2,3,5,6,7]<br>
var result = bubbleSort(array);<br>
console.log(result)</p>
<p>// selection sort</p>
<p>function swap(obj, a, b) { var tmp = obj[a]; obj[a] = obj[b]; obj[b] = tmp; }</p>
<p>function selection_sort(array){<br>
var len = array.length<br>
if(array==null || array.length&lt;=2){<br>
return array<br>
}</p>
<pre><code>for (let i = 0; i &lt; len; i++) {
    var min = i
    for (let j = i+1; j &lt; len; j++) {
        if(array[j]&lt;array[min]){
            min =j
        }
    }
              swap(array,i,min)

}
</code></pre>
<p>}<br>
var array = [3,5,1,2,3,5,6,7]<br>
var result = selection_sort(array);<br>
console.log(array)</p>
<p>//insertion sort</p>
<p>function insertion_sort(arr){<br>
for (var i = 1, length = arr.length; i &lt; length; i++) {<br>
var key = arr[i];<br>
var j = i - 1;<br>
while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) {<br>
arr[j + 1] = arr[j];<br>
j--;<br>
}<br>
arr[j + 1] = key;<br>
}<br>
return arr;</p>
<p>}<br>
var array = [3,5,1,2,3,5,6,7]<br>
var result = insertion_sort(array);<br>
console.log(result)</p>
<p>// merge Sort<br>
function mergeSort(arr) { // é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„é€’å½’æ–¹æ³•<br>
var length = arr.length;<br>
if (length &lt; 2) {<br>
return arr;<br>
}</p>
<pre><code>var middle = Math.floor(length / 2);
var left = arr.slice(0, middle);
var right = arr.slice(middle);

return merge(mergeSort(left), mergeSort(right));
</code></pre>
<p>}</p>
<p>function merge(left, right) {<br>
var result = [];<br>
console.log('left', left, 'right', right);<br>
while (left.length &amp;&amp; right.length) {<br>
if (left[0] &lt;= right[0]) {<br>
result.push(left.shift());<br>
} else {<br>
result.push(right.shift());<br>
}<br>
}</p>
<pre><code>while (left.length) {
  result.push(left.shift());
}

while (right.length) {
  result.push(right.shift());
}
return result;
</code></pre>
<p>}</p>
<p>var array = [3,5,1,2,3,5,6,7]<br>
var result = mergeSort(array);<br>
console.log(result)</p>
<p>//  å¯¹æ•°å™¨</p>
<p>//è¦æµ‹è¯•çš„æ–¹æ³•<br>
function insertSort(arr) {<br>
for (let i = 1; i &lt; arr.length; i++) {<br>
for (let j = i - 1; j &gt;= 0 &amp;&amp; arr[j] &gt; arr[j + 1]; j--) {<br>
[arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];<br>
}<br>
}<br>
}<br>
//æ­£ç¡®çš„æ–¹æ³•<br>
function rightMethod(arr) {<br>
arr.sort((a, b)=&gt;a - b);<br>
}<br>
//éšæœºæ•°ç»„ç”Ÿæˆå™¨ï¼Œsizeä¸ºæœ€å¤§é•¿åº¦ï¼Œvalueä¸ºæœ€å¤§å€¼<br>
function generateRandomArray(size, value) {<br>
//ç”Ÿæˆé•¿åº¦éšæœºçš„æ•°ç»„<br>
let arr = new Array(Math.floor((size + 1) * Math.random()));<br>
for (let i = 0; i &lt; arr.length; i++) {<br>
arr[i] = Math.floor((value + 1) * Math.random());<br>
}<br>
return arr;<br>
}<br>
//æ‹·è´æ•°ç»„æ–¹æ³•<br>
function copyArray(arr) {<br>
if (arr == null) {<br>
return null;<br>
}<br>
return [].concat(arr);<br>
}<br>
//æ¯”å¯¹æ–¹æ³•<br>
function isEqual(arr1, arr2) {<br>
if ((arr1 == null &amp;&amp; arr2 != null ) || (arr1 != null &amp;&amp; arr2 == null)) {<br>
return false;<br>
}<br>
if (arr1 == null &amp;&amp; arr2 == null) {<br>
return true;<br>
}<br>
if (arr1.length != arr2.length) {<br>
return false;<br>
}<br>
for (let i = 0; i &lt; arr1.length; i++) {<br>
if (arr1[i] != arr2[i]) {<br>
return false<br>
}<br>
}<br>
return true;<br>
}<br>
//æµ‹è¯•<br>
function Test() {<br>
let testTimes = 5000;<br>
let size = 10;<br>
let value = 100;<br>
let succeed = true;<br>
for (let i = 0; i &lt; testTimes; i++) {<br>
let arr1 = generateRandomArray(size, value);<br>
let arr2 = copyArray(arr1);<br>
let arr3 = copyArray(arr1);<br>
insertSort(arr1);<br>
rightMethod(arr2);<br>
if (!isEqual(arr1, arr2)) {<br>
succeed = false;<br>
console.log(arr3);<br>
break;<br>
}<br>
}<br>
console.log(succeed ? &quot;nice&quot; : &quot;Fucking fucked&quot;);<br>
}<br>
Test();</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¯»æ‰¾documentå…¨éƒ¨èŠ‚ç‚¹]]></title>
        <id>https://TianhaoXi.github.io/post/xun-zhao-document-quan-bu-jie-dian/</id>
        <link href="https://TianhaoXi.github.io/post/xun-zhao-document-quan-bu-jie-dian/">
        </link>
        <updated>2020-08-28T07:33:31.000Z</updated>
        <content type="html"><![CDATA[<p>function getElCount(n){                     //å®šä¹‰æ–‡æ¡£å…ƒç´ ç»Ÿè®¡å‡½æ•°<br>
var num = 0;                            //åˆå§‹åŒ–å˜é‡<br>
if(n.nodeType == 1){                    //æ£€æŸ¥æ˜¯å¦ä¸ºå…ƒç´ èŠ‚ç‚¹<br>
num++;                              //å¦‚æœæ˜¯ï¼Œè®¡æ•°å™¨åŠ 1<br>
console.log(n.nodeName);            //è¾“å‡ºå…ƒç´ èŠ‚ç‚¹åç§°<br>
}<br>
var son = n.childNodes;                 //è·å–æ‰€æœ‰å­èŠ‚ç‚¹<br>
for(var i=0 ; i&lt;son.length ; i++){      //éå†æ¯ä¸ªå­å…ƒç´ <br>
num += getElCount(son[i]);    //é€’å½’æ“ä½œ<br>
}<br>
return num;                             //è¿”å›ç»Ÿè®¡å€¼<br>
}<br>
window.onload=function(){<br>
console.log('æ–‡æ¡£ä¸­å…ƒç´ èŠ‚ç‚¹çš„ä¸ªæ•°æ˜¯ï¼š'+getElCount(document)+'ä¸ª')<br>
}</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å…¨æ’åˆ—]]></title>
        <id>https://TianhaoXi.github.io/post/quan-pai-lie/</id>
        <link href="https://TianhaoXi.github.io/post/quan-pai-lie/">
        </link>
        <updated>2020-08-22T12:03:05.000Z</updated>
        <content type="html"><![CDATA[<p>var permute = function(nums) {<br>
const list = [];<br>
backtrack(list, [], nums)<br>
return list<br>
};</p>
<p>function backtrack(list,templist,num){<br>
if(templist.length === num.length){<br>
list.push([...templist])<br>
}<br>
for(let i=0;i&lt;num.length;i++){<br>
if(templist.includes(num[i])){<br>
continue;<br>
}<br>
templist.push(num[i]);<br>
backtrack(list,templist,num);<br>
templist.pop()<br>
}<br>
}</p>
<p>var permute = function(nums) {<br>
let n = nums.length;<br>
nums = nums.sort((a,b) =&gt; {return a - b});<br>
let res = [];<br>
let tmpPath = [];<br>
let hash = {};<br>
let backtrack = (tmpPath) =&gt; {<br>
if(tmpPath.length == n){<br>
res.push(tmpPath);<br>
return;<br>
}<br>
for(let i = 0;i &lt; n;i++){<br>
if(hash[i] || (i &gt; 0 &amp;&amp; !hash[i-1] &amp;&amp; nums[i-1] == nums[i])) continue;<br>
hash[i] = true;<br>
tmpPath.push(nums[i]);<br>
backtrack([...tmpPath]);<br>
hash[i] = false;<br>
tmpPath.pop();<br>
}<br>
}<br>
backtrack(tmpPath);<br>
return res;<br>
}</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[merge sort]]></title>
        <id>https://TianhaoXi.github.io/post/merge-sort/</id>
        <link href="https://TianhaoXi.github.io/post/merge-sort/">
        </link>
        <updated>2020-08-22T08:06:15.000Z</updated>
        <content type="html"><![CDATA[<p>// merge Sort<br>
function mergeSort(arr) { // é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„é€’å½’æ–¹æ³•<br>
var length = arr.length;<br>
if (length &lt; 2) {<br>
return arr;<br>
}</p>
<pre><code>var middle = Math.floor(length / 2);
var left = arr.slice(0, middle);
var right = arr.slice(middle);

return merge(mergeSort(left), mergeSort(right));
</code></pre>
<p>}</p>
<p>function merge(left, right) {<br>
var result = [];<br>
console.log('left', left, 'right', right);<br>
while (left.length &amp;&amp; right.length) {<br>
if (left[0] &lt;= right[0]) {<br>
result.push(left.shift());<br>
} else {<br>
result.push(right.shift());<br>
}<br>
}</p>
<pre><code>while (left.length) {
  result.push(left.shift());
}

while (right.length) {
  result.push(right.shift());
}
return result;
</code></pre>
<p>}</p>
<p>var array = [3,5,1,2,3,5,6,7]<br>
var result = mergeSort(array);<br>
console.log(result)</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[matrix_clodckspin]]></title>
        <id>https://TianhaoXi.github.io/post/matrix_clodckspin/</id>
        <link href="https://TianhaoXi.github.io/post/matrix_clodckspin/">
        </link>
        <updated>2020-08-22T08:04:52.000Z</updated>
        <content type="html"><![CDATA[<p>function printMatrix(matrix)<br>
{<br>
// write code here</p>
<pre><code>var row = matrix.length;
var col = matrix[0].length;
   

var res = [];
if(row ==0 || col == 0){
    return null;
}

var left = 0; var right = col - 1; var top=0; var bottom = row-1;

while(left&lt;= right &amp;&amp; top &lt;= bottom ){
    
    for(var i =left; i&lt;= right; i++){
        res.push(matrix[top][i]);
    }
    for(var i = top+1; i&lt;= bottom;i++ ){
        res.push(matrix[i][right]);
    }
    if(top != bottom){
        for (var i = right-1;i&gt;= left;i--){
            res.push(matrix[bottom][i]);
        }
    }
    if(left != right){
        for (var i = bottom-1 ; i&gt; top;i--){
            res.push(matrix[i][left]);
        }
    }
  left = left+1;  
  top = top+1;
  right = right -1;
   bottom = bottom -1; 
}
return res;
</code></pre>
<p>}</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[quick sort]]></title>
        <id>https://TianhaoXi.github.io/post/quick-sort/</id>
        <link href="https://TianhaoXi.github.io/post/quick-sort/">
        </link>
        <updated>2020-08-22T08:04:33.000Z</updated>
        <content type="html"><![CDATA[<p>// quick sort</p>
<p>function quicksort(array){<br>
if(array.length&lt;2){<br>
return array;<br>
}</p>
<pre><code>var piviotindex = Math.floor(array.length/2)
var pivot = array.splice(piviotindex,1)[0];
var left =[];
var right = [];

for(var i =0;i&lt;array.length;i++){
    if(array[i]&lt;pivot){
        left.push(array[i])
    }
    else{
        right.push(array[i])
    }
}

return quicksort(left).concat([pivot],quicksort(right))
</code></pre>
<p>}</p>
<p>////////////////////<br>
function quickSort(arr, left, right) {<br>
if (Object.prototype.toString.call(arr).slice(8, -1) === 'Array' &amp;&amp; typeof length === 'number' &amp;&amp; typeof right === 'number') {</p>
<pre><code>  if (left &lt; right) {
    var pivot = arr[left]; // èµ·å§‹ä½ç½®
    var setPos = left + 1; // è®¾ç½®çš„ä½ç½®
    for (var i = left + 1; i &lt;= right; i++) {
      if (arr[i] &lt; pivot) {
        swap(arr,i,setPos)
        setPos++;
      }
    }
    // å¾ªç¯å®Œæˆä¹‹åå°†keyä¸ pos-1çš„ä½ç½®äº¤æ¢
    swap(arr,left,setPos-1)

    // console.log('æ¯ä¸€æ¬¡æ’åº', 'å½“å‰keyå€¼===&gt;', key, 'æ’åºå®Œæˆå½“å‰æ•°ç»„===&gt;', JSON.stringify(arr));

    quickSort(arr, left, setPos - 2);
    quickSort(arr, setPos, right);
    // console.log('arr=======&gt;', arr);
  }
} else {
  return 'array is not an Array or left or right is not a number!';
}
return arr;
</code></pre>
<p>}</p>
<p>function swap(obj, a, b) { var tmp = obj[a]; obj[a] = obj[b]; obj[b] = tmp; }</p>
<p>var arr = [3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48];<br>
// var arr = [7, 3, 2, 10, 13, 8, 5];<br>
console.log(quickSort(arr, 0, arr.length - 1));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50]</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Heap sort]]></title>
        <id>https://TianhaoXi.github.io/post/heap-sort/</id>
        <link href="https://TianhaoXi.github.io/post/heap-sort/">
        </link>
        <updated>2020-08-22T08:02:40.000Z</updated>
        <content type="html"><![CDATA[<p>function swap(obj, a, b) { var tmp = obj[a]; obj[a] = obj[b]; obj[b] = tmp; }</p>
<p>function bubbleup(array,index){<br>
const parentindex = Math.floor((index-1)/2)<br>
if(array[parentindex] &amp;&amp; array[parentindex]&lt;array[index]){<br>
swap(array,parentindex,index)<br>
bubbleup(array,parentindex);<br>
}<br>
return;<br>
}</p>
<p>function bubbledown(arr,index,size){<br>
var left = index * 2 + 1;<br>
while (left &lt; size) {<br>
var largest = left + 1 &lt; size &amp;&amp; arr[left + 1] &gt; arr[left] ? left + 1 : left;<br>
largest = arr[largest] &gt; arr[index] ? largest : index;<br>
if (largest == index) {<br>
break;<br>
}<br>
swap(arr, largest, index);<br>
index = largest;<br>
left = index * 2 + 1;<br>
}<br>
}</p>
<p>function heapSort(arr) {<br>
if (arr == null || arr.length &lt; 2) {<br>
return;<br>
}</p>
<pre><code>for (var i = 0; i &lt; arr.length; i++) {
    bubbleup(arr, i);
}
var size = arr.length;
swap(arr, 0, --size);
while (size &gt; 0) {
    bubbledown(arr, 0, size);
    swap(arr, 0, --size);
}
</code></pre>
<p>}</p>
<p>var arr = [91, 60, 96, 13, 35, 65, 46, 65, 10, 30, 20, 31, 77, 81, 22];<br>
heapSort(arr);<br>
console.log(arr)</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åŠ¨æ€è§„åˆ’å¸¸è§é¢˜]]></title>
        <id>https://TianhaoXi.github.io/post/dong-tai-gui-hua-chang-jian-ti/</id>
        <link href="https://TianhaoXi.github.io/post/dong-tai-gui-hua-chang-jian-ti/">
        </link>
        <updated>2020-08-22T03:25:36.000Z</updated>
        <content type="html"><![CDATA[<p>ä»£é‡‘åˆ¸ç»„åˆğŸ˜dp<br>
function coinChange(coins,amount){<br>
let dp = new Array(amount+1).fill(Infinity)<br>
dp[0]=0;<br>
for(let coin of coins){<br>
for(let i =1;i&lt;=amount;i++){<br>
if(i-coin&gt;=0){<br>
dp[i]=Math.min(dp[i],dp[i-coin]+1)<br>
}<br>
}<br>
}</p>
<pre><code>return dp[amount] === Infinity ? 'Impossible' : dp[amount];
</code></pre>
<p>}</p>
<p>æœ€å°è·¯å¾„å’Œï¼š<br>
function minPath(grid){<br>
let m = grid.length;<br>
let n = grid[0].length;</p>
<pre><code>for(let i =m-1;i&gt;=0;i--){
    for(let j=n-1;j&gt;=0;j--){
        if (i + 1 &lt; m &amp;&amp; j + 1 &lt; n) {
            grid[i][j] += Math.min(grid[i + 1][j], grid[i][j + 1])
        } else if (i + 1 &lt; m) {
            grid[i][j] += grid[i + 1][j]
        } else if (j + 1 &lt; n) {
            grid[i][j] += grid[i][j + 1]
        }
    }
}
return grid[0][0];   
</code></pre>
<p>}</p>
<p>01 èƒŒåŒ…<br>
var line=readline().split(' ');<br>
var N=parseInt(line[0]);//æ‰¿é‡<br>
var c=parseInt(line[1]);//æ•°é‡<br>
var w=[0],p=[0];//é‡ ä»·å€¼<br>
while(lines=readline()){<br>
let nums=lines.split(' ').map(Number);<br>
p.push(nums[0])//;<br>
w.push(nums[1]);<br>
}<br>
function DyadicArray(N, c, w, p) {<br>
//åˆå§‹åŒ–è¡¨æ ¼<br>
var dp = new Array(N + 1); //è¡¨æ ¼æœ‰n+1è¡Œ<br>
for (let n = 0; n &lt; N + 1; n++) {<br>
dp[n] = new Array(c + 1).fill(0); //æ¯è¡Œæœ‰c+1åˆ—<br>
}</p>
<p>for (let i = 1; i &lt;= N; i++) {<br>
for (let j = 0; j &lt;= c; j++) {<br>
if (j - w[i] &gt;= 0) {<br>
dp[i][j] = Math.max(dp[i - 1][j], dp[i - 1][j - w[i]] + p[i]);<br>
} else {<br>
dp[i][j] = dp[i - 1][j];<br>
}<br>
}<br>
}<br>
return(dp[N][c])<br>
}<br>
console.log(DyadicArray(N, c, w, p))</p>
<p>æœ€é•¿å…¬å…±å­åºåˆ—</p>
<p>var longestCommonSubsequence = function(text1, text2) {<br>
let n = text1.length;<br>
let m = text2.length;<br>
let dp = Array.from(new Array(n+1),() =&gt; new Array(m+1).fill(0));</p>
<pre><code>for(let i =1;i&lt;=n;i++){
    for(let j=1;j&lt;=m;j++){
        if(text1[i-1]===text2[j-1]){
            dp[i][j] = 1+dp[i-1][j-1];
        }
        else{
            dp[i][j] = Math.max(dp[i-1][j],dp[i][j-1])
        }
    }
}
return dp[n][m]
</code></pre>
<p>};</p>
<p>01 èƒŒåŒ…ï¼š<br>
function kanpSack(capacity, weights, values, n) {<br>
var a,b,dp = []</p>
<p>//é¦–å…ˆï¼Œåˆå§‹åŒ–ç”¨äºå¯»æ‰¾è§£å†³æ–¹æ¡ˆçš„çŸ©é˜µKS[n+1][capacity+1]<br>
for (var i = 0; i &lt;= n; i++) {<br>
dp[i] = [];<br>
}<br>
for (var i = 0; i &lt;= n; i++) {<br>
for (var j = 0; j &lt;= capacity; j++) {<br>
if (i === 0 || j === 0) {<br>
//è®©ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ä¸º0ï¼Œå› ä¸ºç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—è¡¨ç¤ºå®¹é‡ä¸º0æˆ–æ²¡æœ‰ç‰©å“å¯è£…<br>
dp[i][j] = 0;<br>
} else if (weights[i - 1] &gt; j) {<br>
dp[i][j] = dp[i - 1][j]; //å½“å‰ç‰©å“é‡é‡å¤§äºå½“å‰å®¹é‡<br>
} else {<br>
//å½“å‰ç‰©å“é‡é‡å°äºå½“å‰å®¹é‡ï¼Œæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œè£…æˆ–è€…ä¸è£…ï¼Œå–ä»·å€¼æœ€å¤§çš„<br>
a = dp[i - 1][j - weights[i - 1]] + values[i - 1]; //è£…å…¥è¿™ä¸ªç‰©å“åçš„æ€»ä»·å€¼<br>
b = dp[i - 1][j]; //ä¸è£…<br>
dp[i][j] = Math.max(a,b)<br>
}<br>
}</p>
<pre><code>}
return dp[n][capacity];
</code></pre>
<p>}</p>
<p>ä¸åŒçš„äºŒå‰æœç´¢æ ‘<br>
var numTrees = function(n) {<br>
let dp = new Array(n+1).fill(0);<br>
dp[0] = 1<br>
dp[1] = 1<br>
for (let i = 2; i &lt;= n; ++i) {<br>
for (let j = 1; j &lt;= i; ++j) {<br>
dp[i]  += dp[j-1] * dp[i-j];<br>
}<br>
}<br>
return dp[n]<br>
};</p>
<p>æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</p>
<p>var lengthOfLongestSubstring = function(s) {</p>
<pre><code>let max = 0;
let arr = [];
for(let i =0;i&lt;s.length;i++){
    let index = arr.indexOf(s[i]);
    if(index !== -1){
        arr.splice(0,index+1)
    }
    arr.push(s[i]);
    max = Math.max(arr.length,max)
}
return max
</code></pre>
<p>};</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[é¢è¯•é¢˜ç›®æ€»ç»“]]></title>
        <id>https://TianhaoXi.github.io/post/mian-shi-ti-mu-zong-jie/</id>
        <link href="https://TianhaoXi.github.io/post/mian-shi-ti-mu-zong-jie/">
        </link>
        <updated>2020-08-17T01:31:41.000Z</updated>
        <content type="html"><![CDATA[<h1 id="è¯´ä¸€ä¸‹reduxçš„å‡ ä¸ªæ¦‚å¿µ"><strong>è¯´ä¸€ä¸‹reduxçš„å‡ ä¸ªæ¦‚å¿µï¼š</strong></h1>
<p>reduxæŠŠåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€é›†ä¸­åœ¨ä¸€èµ·ï¼Œè¿™æ ·å¯åœ¨åº”ç”¨è¶Šæ¥è¶Šå¤§ã€è¶Šæ¥è¶Šå¤æ‚æ—¶æ–¹ä¾¿ç®¡ç†<br>
reduxä¸»è¦åŒ…æ‹¬ä¸€ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š<br>
createStore()      // åˆ›å»ºstore<br>
getState()           // è·å–state<br>
dispatch()          // åˆ†å‘action<br>
subscribe()       // è®¢é˜…store<br>
combineReducers //åˆå¹¶å¤šä¸ªreducer<br>
éœ€è¦çŸ¥é“ redux ä¸èƒ½ç›´æ¥æ›´æ”¹ state ï¼Œè€Œæ˜¯é€šè¿‡dispatchï¼ˆåˆ†å‘ï¼‰actionï¼ˆæè¿°æ­¤æ¬¡æ”¹åŠ¨çš„ç»†èŠ‚ï¼‰æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„state ï¼Œè¿™æ ·æœ‰åˆ©äºè·Ÿè¸ªæ¯ä¸€æ¬¡æ”¹åŠ¨ã€‚<br>
reducer å°±åƒä¸€ä¸ªå¤„ç†å™¨ï¼Œè€Œactionåƒä¸€ä¸ªæŒ‡ä»¤<br>
reduceræ¥å— action ï¼Œæ ¹æ®actionçš„typeæ¥ç¡®å®šéœ€è¦æ‰§è¡Œçš„æ›´æ–°æ“ä½œã€‚<br>
åœ¨å‘ç”Ÿæ›´æ–°æ—¶ä¾¿ä¼šè§¦å‘æ‰€æœ‰å·²ç»subscribeçš„å‡½æ•°ï¼Œé€šå¸¸è¿™äº›å‡½æ•°ç”¨ä»¥æ›´æ–°UI å±‚ã€‚<br>
Provider æŠŠæ ¹ç»„ä»¶åŒ…è£¹èµ·æ¥ï¼Œå°†storeæ³¨å…¥æ•´ä¸ªåº”ç”¨ä¸­ã€‚è¿™æ ·å°±ä¸ç”¨é€šè¿‡propsæŠŠstoreä¸€çº§ä¸€çº§åœ°å¾€ä¸‹ä¼ ã€‚<br>
connect ç”¨ä»¥æ„é€  å®¹å™¨ç»„ä»¶ ã€‚connectå¯æ˜ å°„stateå’Œdispatchåˆ°å®¹å™¨ç»„ä»¶çš„propsä¸­ï¼Œ ç„¶åä¾¿èƒ½åœ¨UIç»„ä»¶ä¸­æ˜¾ç¤ºstateæ•°æ®ï¼Œæˆ–è€…dispatch action<br>
connectåå°±ä¸éœ€è¦å†å†™subscribeæ¥æ“ä½œæ›´æ–°äº†</p>
<h1 id="å‡½æ•°çš„thisæŒ‡å‘">å‡½æ•°çš„thisæŒ‡å‘</h1>
<p>å…¨å±€å‡½æ•°çš„thiséƒ½æ˜¯æŒ‡å‘çš„windowã€‚<br>
å½“ä¸€ä¸ªå‡½æ•°å¹¶éä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯è¢«å½“åšå‡½æ•°æ¥è°ƒç”¨çš„ã€‚åœ¨æ­¤ç§æ¨¡å¼ä¸‹ï¼Œthisè¢«ç»‘å®šä¸ºå…¨å±€å¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹å°±æ˜¯windowå¯¹è±¡<br>
å½“å‡½æ•°è¢«ä¿å­˜ä¸ºä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå®ƒå°±å¯ç§°ä¸ºè¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚å½“ä¸€ä¸ªæ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œthisè¢«ç»‘å®šåˆ°è¿™ä¸ªå¯¹è±¡ä¸Šã€‚å¦‚æœè°ƒç”¨è¡¨è¾¾å¼åŒ…å«ä¸€ä¸ªæå–å±æ€§çš„åŠ¨ä½œï¼ˆ. æˆ– []ï¼‰ï¼Œé‚£ä¹ˆå®ƒè¢«ç§°ä¸ºæ–¹æ³•è°ƒç”¨<br>
æ„é€ å‡½æ•°è°ƒç”¨æ¨¡å¼<br>
å¦‚æœåœ¨ä¸€ä¸ªå‡½æ•°å‰é¢åŠ ä¸Šnewå…³é”®å­—æ¥è°ƒç”¨ï¼Œé‚£ä¹ˆå°±ä¼šåˆ›å»ºä¸€ä¸ªè¿æ¥åˆ°è¯¥å‡½æ•°çš„prototypeæˆå‘˜çš„æ–°å¯¹è±¡ï¼ŒåŒæ—¶ï¼Œthisä¼šè¢«ç»‘å®šåˆ°è¿™ä¸ªæ–°å¯¹è±¡ä¸Šã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå‡½æ•°å°±å¯ä»¥æˆä¸ºæ­¤å¯¹è±¡çš„æ„é€ å‡½æ•°ã€‚</p>
<h1 id="è¿›ç¨‹å’Œçº¿ç¨‹">è¿›ç¨‹å’Œçº¿ç¨‹</h1>
<p>ä¸€ä¸ªè¿›ç¨‹çš„å†…å­˜ç©ºé—´æ˜¯å…±äº«çš„ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ä½¿ç”¨è¿™äº›å…±äº«å†…å­˜ã€‚<br>
ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨æŸäº›å…±äº«å†…å­˜æ—¶ï¼Œå…¶ä»–çº¿ç¨‹å¿…é¡»ç­‰å®ƒç»“æŸï¼Œæ‰èƒ½ä½¿ç”¨è¿™ä¸€å—å†…å­˜ã€‚<br>
äº’æ–¥é”&quot;ï¼ˆMutual exclusionï¼Œç¼©å†™ Mutexï¼‰ï¼Œé˜²æ­¢å¤šä¸ªçº¿ç¨‹åŒæ—¶è¯»å†™æŸä¸€å—å†…å­˜åŒºåŸŸã€‚<br>
å†…å­˜åŒºåŸŸï¼Œåªèƒ½ä¾›ç»™å›ºå®šæ•°ç›®çš„çº¿ç¨‹ä½¿ç”¨ã€‚<br>
è¿›ç¨‹å…·æœ‰çš„ç‰¹å¾ï¼š<br>
åŠ¨æ€æ€§ï¼šè¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæ˜¯ä¸´æ—¶çš„ï¼Œæœ‰ç”Ÿå‘½æœŸçš„ï¼Œæ˜¯åŠ¨æ€äº§ç”Ÿï¼ŒåŠ¨æ€æ¶ˆäº¡çš„ï¼›<br>
å¹¶å‘æ€§ï¼šä»»ä½•è¿›ç¨‹éƒ½å¯ä»¥åŒå…¶ä»–è¿›è¡Œä¸€èµ·å¹¶å‘æ‰§è¡Œï¼›<br>
ç‹¬ç«‹æ€§ï¼šè¿›ç¨‹æ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ï¼›<br>
ç»“æ„æ€§ï¼šè¿›ç¨‹ç”±ç¨‹åºï¼Œæ•°æ®å’Œè¿›ç¨‹æ§åˆ¶å—ä¸‰éƒ¨åˆ†ç»„æˆ<br>
çº¿ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œçš„æœ€å°å•ä½ï¼Œè€Œè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåˆ†é…èµ„æºçš„æœ€å°å•ä½ï¼›<br>
è¿›ç¨‹ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œä½†åŒä¸€è¿›ç¨‹ä¸‹çš„å„ä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«ç¨‹åºçš„å†…å­˜ç©ºé—´(åŒ…æ‹¬ä»£ç æ®µï¼Œæ•°æ®é›†ï¼Œå †ç­‰)åŠä¸€äº›è¿›ç¨‹çº§çš„èµ„æº(å¦‚æ‰“å¼€æ–‡ä»¶å’Œä¿¡å·ç­‰)ï¼ŒæŸè¿›ç¨‹å†…çš„çº¿ç¨‹åœ¨å…¶ä»–è¿›ç¨‹ä¸å¯è§ï¼›</p>
<p>å†…æ ¸ä¼šä¸ºç³»ç»Ÿä¸­æ¯ä¸€ä¸ªè¿›ç¨‹ç»´æŠ¤ä¸€ä»½ç›¸äº’ç‹¬ç«‹çš„é¡µæ˜ å°„è¡¨ã€‚ã€‚é¡µæ˜ å°„è¡¨çš„åŸºæœ¬åŸç†æ˜¯å°†ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­éœ€è¦è®¿é—®çš„ä¸€æ®µè™šæ‹Ÿå†…å­˜ç©ºé—´é€šè¿‡é¡µæ˜ å°„è¡¨æ˜ å°„åˆ°ä¸€æ®µç‰©ç†å†…å­˜ç©ºé—´ä¸Šï¼Œè¿™æ ·CPUè®¿é—®å¯¹åº”è™šæ‹Ÿå†…å­˜åœ°å€çš„æ—¶å€™å°±å¯ä»¥é€šè¿‡è¿™ç§æŸ¥æ‰¾é¡µæ˜ å°„è¡¨çš„æœºåˆ¶è®¿é—®ç‰©ç†å†…å­˜ä¸Šçš„æŸä¸ªå¯¹åº”çš„åœ°å€ã€‚â€œé¡µï¼ˆpageï¼‰â€æ˜¯è™šæ‹Ÿå†…å­˜ç©ºé—´å‘ç‰©ç†å†…å­˜ç©ºé—´æ˜ å°„çš„åŸºæœ¬å•å…ƒã€‚</p>
<h1 id="generator">generator</h1>
<p>generatorç”±function*å®šä¹‰<br>
è°ƒç”¨generatorå¯¹è±¡æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€æ˜¯ä¸æ–­åœ°è°ƒç”¨generatorå¯¹è±¡çš„next()æ–¹æ³•ï¼š<br>
next()æ–¹æ³•ä¼šæ‰§è¡Œgeneratorçš„ä»£ç ï¼Œç„¶åï¼Œæ¯æ¬¡é‡åˆ°yield x;å°±è¿”å›ä¸€ä¸ªå¯¹è±¡{value: x, done: true/false}ï¼Œç„¶åâ€œæš‚åœâ€ã€‚è¿”å›çš„valueå°±æ˜¯yieldçš„è¿”å›å€¼ï¼Œdoneè¡¨ç¤ºè¿™ä¸ªgeneratoræ˜¯å¦å·²ç»æ‰§è¡Œç»“æŸäº†ã€‚å¦‚æœdoneä¸ºtrueï¼Œåˆ™valueå°±æ˜¯returnçš„è¿”å›å€¼ã€‚<br>
for ... ofå¾ªç¯è¿­ä»£generatorå¯¹è±¡<br>
å¼‚æ­¥å›è°ƒä»£ç å˜æˆâ€œåŒæ­¥â€ä»£ç </p>
<h1 id="httpè¯·æ±‚çš„å››ä¸ªéƒ¨åˆ†">HTTPè¯·æ±‚çš„å››ä¸ªéƒ¨åˆ†ï¼š</h1>
<p>1ã€HTTPè¯·æ±‚çš„æ–¹æ³•æˆ–è€…åŠ¨ä½œï¼ŒGETæˆ–è€…POSTç­‰<br>
Request Method: POST<br>
è¯·æ±‚åœ°å€URLï¼ˆä½ è¿URLåœ°å€éƒ½æ²¡æœ‰ä½ è¯·æ±‚ä»€ä¹ˆï¼‰<br>
Request URL:https://contract-web.uat.yixincapital.com/contract2.0-web/<br>
è¯·æ±‚å¤´ï¼ŒåŒ…å«å®¢æˆ·ç«¯ç¯å¢ƒä¿¡æ¯ï¼Œèº«ä»½éªŒè¯ä¿¡æ¯<br>
å®¢æˆ·ç«¯æµè§ˆå™¨è¯·æ±‚Header(HTTP request header)<br>
Accept å¯æ¥å—çš„å†…å®¹ç±»å‹<br>
Accept-Language è¯­è¨€<br>
Accept-Encoding å¯æ¥å—çš„å‹ç¼©ç±»å‹ gzip,deflate<br>
Accept-Charset å¯æ¥å—çš„å†…å®¹ç¼–ç  UTF-8,*<br>
Content-Type: application/x-www-form-urlencoded; charset=UTF-8(å†…å®¹ç±»å‹ï¼Œè¿™ç§è¡¨ç¤ºkey-valueå½¢å¼ï¼Œä¸‹æ–¹æœ‰from data)<br>
Content-Type: application/json;charset=utf-8ï¼ˆå†…å®¹ç±»å‹ï¼Œè¿™ç§è¡¨ç¤ºjsonå½¢å¼ï¼Œè¯·æ±‚ä½“ä¸ºjsonå½¢å¼ï¼Œæ²¡æœ‰from data<br>
Cookie:JSESSIONID=F06E92B6119E19B000BC43F40984A575ï¼ˆcookieï¼‰<br>
Host  è¯·æ±‚çš„åŸŸå<br>
Origin:https://contract-web.uat.yixincapital.comï¼ˆæœ€åˆè¯·æ±‚ä»å“ªä¸ªç½‘ç«™è·³è¿‡æ¥çš„ï¼‰<br>
Referer:https://contract-web.uat.yixincapital.com/contract2.0-web/contract2.0-vue//contractManage/index.htmlï¼ˆä»å“ªä¸ªç½‘ç«™è·³è¿‡æ¥çš„ï¼‰<br>
User-Agent æµè§ˆå™¨ç«¯æµè§ˆå™¨å‹å·å’Œç‰ˆæœ¬<br>
X-Requested-With:XMLHttpRequestï¼ˆ å¦‚æœ requestedWith ä¸º nullï¼Œåˆ™ä¸ºåŒæ­¥è¯·æ±‚ã€‚ å¦‚æœ requestedWith ä¸º XMLHttpRequest åˆ™ä¸º Ajax è¯·æ±‚ï¼‰</p>
<p>è¯·æ±‚ä½“ï¼Œå³è¯·æ±‚æ­£æ–‡ï¼Œè¯·æ±‚æ­£æ–‡å¯ä»¥åŒ…å«å®¢æˆ·æäº¤çš„æŸ¥è¯¢å­—ç¬¦ï¼Œè¡¨å•ä¿¡æ¯ç­‰ç­‰</p>
<p>äºŒã€ä¸€ä¸ªHTTPå“åº”ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š<br>
1ã€ä¸€ä¸ªæ•°å­—ä¸æ–‡å­—ç»„æˆçš„çŠ¶æ€ç ï¼Œç”¨æ¥æ˜¾ç¤ºè¯·æ±‚æˆåŠŸå¤±è´¥ä¿¡æ¯<br>
Status Code:  200 OK<br>
2ã€å“åº”å¤´ï¼Œå“åº”å¤´ä¸è¯·æ±‚å¤´åŒ…å«è®¸å¤šæœ‰ç”¨ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šæœåŠ¡å™¨ç±»å‹ã€æ—¥æœŸæ—¶é—´ã€å†…å®¹ç±»å‹å’Œé•¿åº¦ç­‰ã€‚<br>
æœåŠ¡å™¨ç«¯çš„å“åº”Header(response header)<br>
Connection:keep-aliveï¼ˆ é’ˆå¯¹è¯¥è¿æ¥æ‰€é¢„æœŸçš„é€‰é¡¹ï¼‰<br>
Content-Disposition:inline;filename=f.txtï¼ˆ å¯¹å·²çŸ¥MIMEç±»å‹èµ„æºçš„æè¿°ï¼Œæµè§ˆå™¨å¯ä»¥æ ¹æ®è¿™ä¸ªå“åº”å¤´å†³å®šæ˜¯å¯¹è¿”å›èµ„æºçš„åŠ¨ä½œï¼Œå¦‚ï¼šå°†å…¶ä¸‹è½½æˆ–æ˜¯æ‰“å¼€ã€‚ï¼‰<br>
Content-Type:application/json;charset=UTF-8ï¼ˆ å½“å‰å†…å®¹çš„MIMEç±»å‹ï¼‰<br>
Date:Wed, 07 Nov 2018 09:33:39 GMT*ï¼ˆ æ­¤æ¡æ¶ˆæ¯è¢«å‘é€æ—¶çš„æ—¥æœŸå’Œæ—¶é—´(ä»¥RFC 7231ä¸­å®šä¹‰çš„&quot;HTTPæ—¥æœŸ&quot;æ ¼å¼æ¥è¡¨ç¤º)ï¼‰<br>
Server:Tengineï¼ˆ æœåŠ¡å™¨çš„åç§°ï¼‰<br>
Transfer-Encoding: chunkedï¼ˆ ç”¨è¡¨ç¤ºå®ä½“ä¼ è¾“ç»™ç”¨æˆ·çš„ç¼–ç å½¢å¼ã€‚åŒ…æ‹¬ï¼šchunkedã€compressã€ deflateã€gzipã€identityã€‚ï¼‰<br>
3ã€å“åº”ä½“ï¼Œå“åº”æ­£æ–‡</p>
<p>ä¸‰ã€HTTPå¸¸è§çŠ¶æ€ç ï¼š<br>
1xx	Informationalï¼ˆä¿¡æ¯æ€§çŠ¶æ€ç ï¼‰	æ¥å—çš„è¯·æ±‚æ­£åœ¨å¤„ç†<br>
2xx	Successï¼ˆæˆåŠŸçŠ¶æ€ç ï¼‰	è¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯•<br>
3xx	Redirectionï¼ˆé‡å®šå‘ï¼‰	éœ€è¦è¿›è¡Œé™„åŠ æ“ä½œä»¥å®Œæˆè¯·æ±‚<br>
4xx	Client errorï¼ˆå®¢æˆ·ç«¯é”™è¯¯ï¼‰	å®¢æˆ·ç«¯è¯·æ±‚å‡ºé”™ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚<br>
5xx	Server Errorï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰	æœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™</p>
<p>200 OKï¼šè¡¨ç¤ºä»å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡å™¨çš„è¯·æ±‚è¢«æ­£å¸¸å¤„ç†å¹¶è¿”å›ï¼›<br>
202ï¼šè¡¨ç¤ºæœåŠ¡å™¨å·²ç»æ¥å—äº†è¯·æ±‚ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å¤„ç†ï¼Œè€Œä¸”è¿™ä¸ªè¯·æ±‚æœ€ç»ˆä¼šä¸ä¼šå¤„ç†è¿˜ä¸ç¡®å®š<br>
204 No Contentï¼šè¡¨ç¤ºå®¢æˆ·ç«¯å‘é€ç»™å®¢æˆ·ç«¯çš„è¯·æ±‚å¾—åˆ°äº†æˆåŠŸå¤„ç†ï¼Œä½†åœ¨è¿”å›çš„å“åº”æŠ¥æ–‡ä¸­ä¸å«å®ä½“çš„ä¸»ä½“éƒ¨åˆ†ï¼ˆæ²¡æœ‰èµ„æºå¯ä»¥è¿”å›ï¼‰ï¼›<br>
206 Patial Contentï¼šè¡¨ç¤ºå®¢æˆ·ç«¯è¿›è¡Œäº†èŒƒå›´è¯·æ±‚ï¼Œå¹¶ä¸”æœåŠ¡å™¨æˆåŠŸæ‰§è¡Œäº†è¿™éƒ¨åˆ†çš„GETè¯·æ±‚ï¼Œå“åº”æŠ¥æ–‡ä¸­åŒ…å«ç”±Content-RangeæŒ‡å®šèŒƒå›´çš„å®ä½“å†…å®¹ã€‚</p>
<p>301 Moved Permanentlyï¼šæ°¸ä¹…æ€§é‡å®šå‘ï¼Œè¡¨ç¤ºè¯·æ±‚çš„èµ„æºè¢«åˆ†é…äº†æ–°çš„URLï¼Œä¹‹ååº”ä½¿ç”¨æ›´æ”¹çš„URLï¼›<br>
302 Foundï¼šä¸´æ—¶æ€§é‡å®šå‘ï¼Œè¡¨ç¤ºè¯·æ±‚çš„èµ„æºè¢«åˆ†é…äº†æ–°çš„URLï¼Œå¸Œæœ›æœ¬æ¬¡è®¿é—®ä½¿ç”¨æ–°çš„URLï¼›<br>
301ä¸302çš„åŒºåˆ«ï¼šå‰è€…æ˜¯æ°¸ä¹…ç§»åŠ¨ï¼Œåè€…æ˜¯ä¸´æ—¶ç§»åŠ¨ï¼ˆä¹‹åå¯èƒ½è¿˜ä¼šæ›´æ”¹URLï¼‰<br>
303 See Otherï¼šè¡¨ç¤ºè¯·æ±‚çš„èµ„æºè¢«åˆ†é…äº†æ–°çš„URLï¼Œåº”ä½¿ç”¨GETæ–¹æ³•å®šå‘è·å–è¯·æ±‚çš„èµ„æºï¼›<br>
302ä¸303çš„åŒºåˆ«ï¼šåè€…æ˜ç¡®è¡¨ç¤ºå®¢æˆ·ç«¯åº”å½“é‡‡ç”¨GETæ–¹å¼è·å–èµ„æº<br>
304 Not Modifiedï¼šè¡¨ç¤ºå®¢æˆ·ç«¯å‘é€é™„å¸¦æ¡ä»¶ï¼ˆæ˜¯æŒ‡é‡‡ç”¨GETæ–¹æ³•çš„è¯·æ±‚æŠ¥æ–‡ä¸­åŒ…å«if-Matchã€If-Modified-Sinceã€If-None-Matchã€If-Rangeã€If-Unmodified-Sinceä¸­ä»»ä¸€é¦–éƒ¨ï¼‰çš„è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç«¯å…è®¸è®¿é—®èµ„æºï¼Œä½†æ˜¯è¯·æ±‚ä¸ºæ»¡è¶³æ¡ä»¶çš„æƒ…å†µä¸‹è¿”å›æ”¹çŠ¶æ€ç ï¼›<br>
307 Temporary Redirectï¼šä¸´æ—¶é‡å®šå‘ï¼Œä¸303æœ‰ç€ç›¸åŒçš„å«ä¹‰ï¼Œ307ä¼šéµç…§æµè§ˆå™¨æ ‡å‡†ä¸ä¼šä»POSTå˜æˆGETï¼›ï¼ˆä¸åŒæµè§ˆå™¨å¯èƒ½ä¼šå‡ºç°ä¸åŒçš„æƒ…å†µï¼‰ï¼›</p>
<p>400 Bad Requestï¼šè¡¨ç¤ºè¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ï¼›<br>
401 Unauthorizedï¼šæœªç»è®¸å¯ï¼Œéœ€è¦é€šè¿‡HTTPè®¤è¯ï¼›<br>
403 Forbiddenï¼šæœåŠ¡å™¨æ‹’ç»è¯¥æ¬¡è®¿é—®ï¼ˆè®¿é—®æƒé™å‡ºç°é—®é¢˜ï¼‰<br>
404 Not Foundï¼šè¡¨ç¤ºæœåŠ¡å™¨ä¸Šæ— æ³•æ‰¾åˆ°è¯·æ±‚çš„èµ„æºï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥åœ¨æœåŠ¡å™¨æ‹’ç»è¯·æ±‚ä½†ä¸æƒ³ç»™æ‹’ç»åŸå› æ—¶ä½¿ç”¨ï¼›</p>
<p>500 Inter Server Errorï¼šè¡¨ç¤ºæœåŠ¡å™¨åœ¨æ‰§è¡Œè¯·æ±‚æ—¶å‘ç”Ÿäº†é”™è¯¯ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯webåº”ç”¨å­˜åœ¨çš„bugæˆ–æŸäº›ä¸´æ—¶çš„é”™è¯¯æ—¶ï¼›<br>
503 Server Unavailableï¼šè¡¨ç¤ºæœåŠ¡å™¨æš‚æ—¶å¤„äºè¶…è´Ÿè½½æˆ–æ­£åœ¨è¿›è¡Œåœæœºç»´æŠ¤ï¼Œæ— æ³•å¤„ç†è¯·æ±‚ï¼›</p>
<h1 id="content-type">content-type</h1>
<p>text/plain ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€æ–‡æœ¬ç±»å‹<br>
text/css  ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ cssç±»å‹<br>
text/html ã€€ã€€ ã€€ã€€ã€€ã€€ã€€ã€€htmlç±»å‹<br>
application/x-javascript ã€€ã€€jsç±»å‹<br>
application/jsonã€€ã€€ã€€ã€€ã€€ jsonç±»å‹<br>
image/png jpg gifã€€ã€€ã€€ã€€ã€€ image/*</p>
<h1 id="æ–­ç‚¹ç»­ä¼ ">æ–­ç‚¹ç»­ä¼ </h1>
<p>HTTP1.1 åè®®ï¼ˆRFC2616ï¼‰å¼€å§‹æ”¯æŒè·å–æ–‡ä»¶çš„éƒ¨åˆ†å†…å®¹ï¼Œè¿™ä¸ºå¹¶è¡Œä¸‹è½½ä»¥åŠæ–­ç‚¹ç»­ä¼ æä¾›äº†æŠ€æœ¯æ”¯æŒã€‚å®ƒé€šè¿‡åœ¨ Header é‡Œä¸¤ä¸ªå‚æ•°å®ç°çš„ï¼Œå®¢æˆ·ç«¯å‘è¯·æ±‚æ—¶å¯¹åº”çš„æ˜¯ Range ï¼ŒæœåŠ¡å™¨ç«¯å“åº”æ—¶å¯¹åº”çš„æ˜¯ Content-Rangeã€‚<br>
Range:<br>
ç”¨äºè¯·æ±‚å¤´ä¸­ï¼ŒæŒ‡å®šç¬¬ä¸€ä¸ªå­—èŠ‚çš„ä½ç½®å’Œæœ€åä¸€ä¸ªå­—èŠ‚çš„ä½ç½®ï¼Œä¸€èˆ¬æ ¼å¼ï¼š<br>
HTTP/1.1 206 Partial Contentï¼ˆä½¿ç”¨æ–­ç‚¹ç»­ä¼ æ–¹å¼ï¼‰</p>
<h1 id="httpå¦‚ä½•æ§åˆ¶è¯·æ±‚çš„æ•°é‡">httpå¦‚ä½•æ§åˆ¶è¯·æ±‚çš„æ•°é‡</h1>
<p>TTP è¿æ¥äº§ç”Ÿçš„å¼€é”€<br>
åŸŸåè§£æâ€“TCP è¿æ¥â€“å‘é€è¯·æ±‚â€“ç­‰å¾…â€“ä¸‹è½½èµ„æºâ€“è§£ææ—¶é—´<br>
ï¼ˆå‡å°‘å¼€é”€ï¼šDNSç¼“å­˜ã€Keep-Aliveï¼‰<br>
åˆå¹¶è„šæœ¬å’Œæ ·å¼è¡¨ï¼Œä½¿ç”¨å¤–éƒ¨çš„ js å’Œ css æ–‡ä»¶å¼•ç”¨çš„æ–¹å¼ï¼Œå› ä¸ºè¿™è¦æ¯”ç›´æ¥å†™åœ¨é¡µé¢ä¸­æ€§èƒ½è¦æ›´å¥½ä¸€ç‚¹ï¼›ç‹¬ç«‹çš„ä¸€ä¸ª js æ¯”ç”¨å¤šä¸ª js æ–‡ä»¶ç»„æˆçš„é¡µé¢è½½å…¥è¦å¿« 38%<br>
å›¾ç‰‡ä½¿ç”¨ Base64 ç¼–ç å‡å°‘é¡µé¢è¯·æ±‚æ•°ã€‚é‡‡ç”¨ Base64 çš„ç¼–ç æ–¹å¼å°†å›¾ç‰‡ç›´æ¥åµŒå…¥åˆ°ç½‘é¡µä¸­ï¼Œè€Œä¸æ˜¯ä»å¤–éƒ¨è½½å…¥ã€‚ï¼ˆé«˜ç‰ˆæœ¬æµè§ˆå™¨è§£æï¼‰<br>
é¦–å±æ¸²æŸ“---æ–‡ä»¶æ ·å¼å¸ƒå±€ä¸»è¦ç”±jsæ–‡ä»¶å†³å®šï¼Œåˆå¹¶ä¹‹åçš„jsæ–‡ä»¶å˜å¤§ï¼Œä¼šå¯¼è‡´é¦–å±æ¸²æŸ“å¾ˆæ…¢<br>
ç¼“å­˜å¤±æ•ˆ---åˆå¹¶ä¹‹åï¼Œä¿®æ”¹äº†ä¸€ä¸ªjsæ–‡ä»¶ï¼Œå¯¼è‡´æ•´ä¸ªåˆå¹¶çš„ä»£ç é‡æ–°åŠ è½½ï¼Œç¼“å­˜å¤±æ•ˆ</p>
<p>#ä»è¾“å…¥urlåˆ°é¡µé¢å±•ç°å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿå…¶ä¸­åœ¨é¡µé¢æ¸²æŸ“ä»¥åŠç½‘ç»œè¯·æ±‚å“åº”çš„æ€§èƒ½ä¼˜åŒ–æ–¹é¢ï¼Œæˆ‘ä»¬åˆ†åˆ«å¯ä»¥åšå“ªäº›ä¼˜åŒ–å·¥ä½œï¼Ÿ<br>
è¯·æ±‚é¡µé¢<br>
1ã€dnsè§£æ<br>
- å…ˆåœ¨æœ¬åœ°hostæŸ¥æ‰¾<br>
- åˆ°æµè§ˆå™¨dnsç¼“å­˜æŸ¥æ‰¾<br>
- åˆ°æ ¹åŸŸåæœåŠ¡å™¨æŸ¥æ‰¾<br>
- æ‰¾ä¸»åŸŸåæœåŠ¡å™¨æŸ¥æ‰¾<br>
- è¿”å›ipåœ°å€<br>
2ã€æµè§ˆå™¨ç¼“å­˜<br>
- å¼ºç¼“å­˜maxAgeæœªè¿‡æ—¶ç›´æ¥è¯»å–æœ¬åœ°ç£ç›˜ç¼“å­˜ï¼Œæ— éœ€å»ºç«‹è¿æ¥<br>
- åå•†ç¼“å­˜if-modify-since --&gt; etag ï¼ˆä¼˜å…ˆçº§é«˜ï¼‰<br>
3ã€æ²¡æœ‰ç¼“å­˜ï¼Œå»ºç«‹tcpè¿æ¥<br>
- ä¸‰æ¬¡æ¡æ‰‹ syn -&gt; syn+ack -&gt; fin<br>
- å»ºç«‹SSLé€šä¿¡ï¼Œå®¢æˆ·ç«¯æºå¸¦éšæœºæ•°ï¼Œæ”¯æŒçš„åŠ å¯†ç®—æ³•åˆ—è¡¨è¯·æ±‚443ç«¯å£ -&gt; æœåŠ¡ç«¯è¿”å›æ•°å­—è¯ä¹¦+å…¬é’¥+éšæœºæ•°b -&gt; å®¢æˆ·ç«¯éªŒè¯è¯ä¹¦æœ‰æ•ˆæ€§ç”Ÿæˆéšæœºæ•°cï¼Œç”¨æŸç§åŠ å¯†ç®—æ³•æ ¹æ®abcç”Ÿæˆå¯¹ç§°å¯†é’¥ï¼Œå¹¶è¿”å›ç»™æœåŠ¡ç«¯ -&gt; æœåŠ¡ç«¯ç§é’¥è§£å¯†ï¼Œå¾—åˆ°å¯¹ç§°å¯†é’¥ï¼Œç„¶ååŒæ–¹ä½¿ç”¨å¯¹ç§°å¯†é’¥é€šä¿¡<br>
// - å¤æ‚è¯·æ±‚ï¼Œå…ˆå‘èµ·optionè¯·æ±‚æ£€éªŒæœåŠ¡å¯ç”¨æ€§<br>
- æ¥æ”¶æ•°æ®åŒ…ï¼ˆè¯·æ±‚å¤´ï¼Œè¯·æ±‚è¡Œï¼Œè¯·æ±‚ä½“ï¼‰æ ¹æ®content-typeè¿›è¡Œè§£ç ï¼Œæ ¹æ®ä¸åŒèµ„æºç±»å‹è¿›è¡Œä¸åŒçš„åŠ è½½ç­–ç•¥<br>
- å››æ¬¡æŒ¥æ‰‹ syn -&gt; syn + ack -&gt; fin -&gt; ack + fin<br>
4ã€æµè§ˆå™¨æ¸²æŸ“<br>
- æµè§ˆå™¨ä¸»è¿›ç¨‹é€šçŸ¥æ¸²æŸ“è¿›ç¨‹å¯ä»¥å¼€å§‹æ¸²æŸ“äº†<br>
- æ¸²æŸ“è¿›ç¨‹æ¥æ”¶åˆ°å‚ç›´åŒæ­¥ä¿¡å·ï¼Œé€šçŸ¥ä¸»çº¿ç¨‹<br>
- ä¸»çº¿ç¨‹å…ˆè¿›è¡Œæ¸²æŸ“çš„å‰ç½®æ“ä½œï¼Œæ¸…ç©ºå½“å‰çš„æ‰€æœ‰å¾®ä»»åŠ¡ï¼Œä¹‹åè§¦å‘requestAnimationFrameï¼Œè¿›å…¥æ¸²æŸ“é˜¶æ®µ<br>
- æ„å»ºdomæ ‘ + css renderer -&gt; å¾—åˆ°layoutæ ‘<br>
-æ ¹æ®å›¾å±‚ç”Ÿæˆè§„åˆ™ï¼Œå¹¶è®¡ç®—èŠ‚ç‚¹ä½ç½®ï¼Œç”Ÿæˆlayeræ ‘<br>
- é€šçŸ¥åˆæˆçº¿ç¨‹ï¼Œlayeræ ‘å‡†å¤‡å®Œæ¯•<br>
- åˆæˆçº¿ç¨‹è¿›è¡Œåˆ†å—å’Œå…‰æ …åŒ–çš„æ“ä½œ<br>
- é€šçŸ¥gpuå¯ä»¥å¼€å§‹è¿›è¡Œç»˜åˆ¶äº†<br>
- gpuè°ƒç”¨æ˜¾ç¤ºå™¨æä¾›çš„DirectX apiï¼Œldpï¼Œaldpä¸åŒç­–ç•¥è¿›è¡Œå¾—åˆ°è‰²å½©é¡µé¢æ˜¾ç¤º<br>
- ï¼ˆä¸­é—´ä¼šç©¿æ’cssçš„åŠ è½½ï¼Œjsçš„æ‰§è¡Œï¼Œdeferï¼Œasyncç­‰ä¸åŒç­–ç•¥ï¼‰</p>
<p>è¾“å…¥urlæŒ‰ä¸‹å›è½¦ä¹‹åï¼Œæµè§ˆå™¨ä¼šå»æµè§ˆå™¨ç¼“å­˜ä¸­å¯»æ‰¾è¯¥urlçš„ipï¼›æ²¡æœ‰çš„è¯å»ç³»ç»Ÿç¼“å­˜ä¸­æ‰¾ï¼Œè¿˜æ˜¯æ²¡æœ‰çš„è¯å»è·¯ç”±å™¨ç¼“å­˜ä¸­å¯»æ‰¾ï¼›å†æ²¡æœ‰å°±å»ç³»ç»Ÿhostæ–‡ä»¶ä¸­æ‰¾ï¼Œè¿˜æ˜¯æ²¡æœ‰æœ€ååªèƒ½å»è¯·æ±‚dnsæœåŠ¡å™¨ï¼Œç„¶ådnsç»™ä¸€ä¸ªipç»™æµè§ˆå™¨ï¼›æµè§ˆå™¨æ ¹æ®è¿™ä¸ªipåœ°å€ï¼Œå°†è¯·æ±‚ä¿¡æ¯ï¼Œè¯·æ±‚è¯´æ˜å’Œè¯·æ±‚å‚æ•°ç­‰å°æˆä¸€ä¸ªtcpåŒ…ï¼Œç”±ä¼ è¾“å±‚ï¼Œåˆ°ç½‘ç»œå±‚ï¼Œåˆ°æ•°æ®é“¾è·¯å±‚åˆ°ç‰©ç†å±‚ï¼Œä¼ é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è§£æè¿™ä¸ªtcpåŒ…å°†å¯¹åº”çš„é¡µé¢æ–‡ä»¶è¿”å›ã€‚æµè§ˆå™¨æ ¹æ®htmlæ–‡ä»¶ç”Ÿæˆdomæ ‘ï¼Œæ ¹æ®cssæ–‡ä»¶ç”Ÿæˆcssomæ ‘ï¼Œç„¶ååˆå¹¶è¿™ä¸¤æ£µæ ‘ç”Ÿæˆæ¸²æŸ“æ ‘ï¼Œç„¶åæ¸²æŸ“é¡µé¢å¹¶ä¸”å±•ç¤ºã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œå½“æµè§ˆå™¨è§£æhtmlæ–‡ä»¶æ—¶å€™å¦‚æœé‡åˆ°äº†å†…è”æˆ–è€…å¤–è”çš„jsä»£ç ï¼Œä¼šæš‚åœdomæ ‘çš„ç”Ÿæˆï¼Œç­‰jsä»£ç æ‰§è¡Œå®Œæˆä¹‹åï¼Œæ‰èƒ½ç»§ç»­ç”Ÿæˆæ ‘å¹¶æ¸²æŸ“ã€‚<br>
å…¶ä¸­åœ¨é¡µé¢æ¸²æŸ“ä»¥åŠç½‘ç»œè¯·æ±‚å“åº”çš„æ€§èƒ½ä¼˜åŒ–æ–¹é¢ï¼Œæˆ‘ä»¬å¯ä»¥åšçš„ä¼˜åŒ–å·¥ä½œæœ‰ï¼š1.jsä»£ç å†™åœ¨é¡µé¢æ¸²æŸ“å®Œæˆä¹‹åé¿å…é˜»å¡æ¸²æŸ“    2.cdnå¹¶å‘ï¼Œèµ„æºå‹ç¼©ï¼Œå‡å°‘è¯·æ±‚æ¬¡æ•°    3.é¢„åŠ è½½æˆ–è€…æ‡’åŠ è½½</p>
<h1 id="æ‹¥å¡æ§åˆ¶">æ‹¥å¡æ§åˆ¶</h1>
<p>TCPçš„å››ç§æ‹¥å¡æ§åˆ¶ç®—æ³•<br>
1.æ…¢å¼€å§‹<br>
2.æ‹¥å¡æ§åˆ¶<br>
3.å¿«é‡ä¼ <br>
4.å¿«æ¢å¤<br>
æ‹¥å¡æ§åˆ¶ï¼š<br>
https://www.cnblogs.com/kubidemanong/p/9973757.html<br>
æµé‡æ§åˆ¶ï¼š<br>
https://www.cnblogs.com/kubidemanong/p/9987810.html<br>
å¢é•¿é˜¶æ®µç§°ä¹‹ä¸ºæ…¢å¯åŠ¨ï¼Œçº¿æ€§å¢é•¿é˜¶æ®µç§°ä¹‹ä¸ºæ‹¥å¡é¿å…</p>
<p>æ‹¥å¡æ§åˆ¶ä¸ç½‘ç»œçš„æ‹¥å µæƒ…å†µç›¸å…³è”ï¼Œè€Œæµé‡æ§åˆ¶ä¸æ¥æ”¶æ–¹çš„ç¼“å­˜çŠ¶æ€ç›¸å…³è”ã€‚</p>
<h1 id="cookies-localstorage-sessionstorage">cookies localStorage sessionStorage</h1>
<p>Cookie ä¸€èˆ¬ç”±æœåŠ¡å™¨ç”Ÿæˆï¼Œå¯è®¾ç½®å¤±æ•ˆæ—¶é—´ã€‚å¦‚æœåœ¨æµè§ˆå™¨ç«¯ç”ŸæˆCookieï¼Œé»˜è®¤æ˜¯å…³é—­æµè§ˆå™¨åå¤±æ•ˆ<br>
æ¯æ¬¡éƒ½ä¼šæºå¸¦åœ¨HTTPå¤´ä¸­ï¼Œå¦‚æœä½¿ç”¨cookieä¿å­˜è¿‡å¤šæ•°æ®ä¼šå¸¦æ¥æ€§èƒ½é—®é¢˜<br>
æœåŠ¡å™¨åƒå®¢æˆ·ç«¯å‘é€cookie<br>
æµè§ˆå™¨å°†cookieä¿å­˜<br>
ä¹‹åæ¯æ¬¡httpè¯·æ±‚æµè§ˆå™¨éƒ½ä¼šå°†cookieå‘é€ç»™æœåŠ¡å™¨ç«¯ Set-Cookieä¸­è®¾ç½®</p>
<p>#tcpçš„è¿æ¥<br>
https://blog.csdn.net/weixin_44907813/article/details/90444151</p>
<p><img src="https://TianhaoXi.github.io/post-images/1597643981310.png" alt="" loading="lazy"><br>
<img src="https://TianhaoXi.github.io/post-images/1597644169819.png" alt="" loading="lazy"></p>
<h1 id="è·¨åŸŸå’Œè§£å†³æ–¹æ³•">è·¨åŸŸå’Œè§£å†³æ–¹æ³•</h1>
<p>CORSï¼ˆCross-Origin Resource Sharingï¼‰è·¨åŸŸèµ„æºå…±äº«ï¼Œå®šä¹‰äº†å¿…é¡»åœ¨è®¿é—®è·¨åŸŸèµ„æºæ—¶ï¼Œæµè§ˆå™¨ä¸æœåŠ¡å™¨åº”è¯¥å¦‚ä½•æ²Ÿé€šã€‚CORSèƒŒåçš„åŸºæœ¬æ€æƒ³å°±æ˜¯ä½¿ç”¨è‡ªå®šä¹‰çš„HTTPå¤´éƒ¨è®©æµè§ˆå™¨ä¸æœåŠ¡å™¨è¿›è¡Œæ²Ÿé€šï¼Œä»è€Œå†³å®šè¯·æ±‚æˆ–å“åº”æ˜¯åº”è¯¥æˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚</p>
<p>jsonp:<br>
åŒæºç­–ç•¥è¯·æ±‚: ajax fetch<br>
script img link  æ ‡ç­¾ä¸å­˜åœ¨è·¨åŸŸ<br>
jsonpåªèƒ½å¤„ç†getè¯·æ±‚</p>
<p>clint:<br>
$.ajax({<br>
url : 'http://localhost:3002/api/data1',<br>
dataType : 'jsonp',<br>
type : 'get',<br>
success : function(res){<br>
console.log(res);<br>
},<br>
error: function() {<br>
console.log(&quot;fail&quot;)<br>
}<br>
});</p>
<p>server:<br>
let routerJsonp = new Router();<br>
routerJsonp.get('/data1', async (ctx) =&gt; {<br>
let cb = ctx.request.query.callback;<br>
ctx.type = 'text/javascript'<br>
let returnData = {<br>
success: true,<br>
data: {<br>
text: 'this is a jsonp api',<br>
time: new Date().getTime(),<br>
}<br>
}<br>
// jsonpçš„scriptå­—ç¬¦ä¸²<br>
let jsonpStr = <code>;${callbackName}(${JSON.stringify(returnData)})</code><br>
ctx.body = jsonpStr<br>
})</p>
<p>router.get('/data1', async (ctx) =&gt; {<br>
let cb = ctx.request.query.callback;<br>
ctx.type = 'text';<br>
ctx.body = cb + '(' + '&quot;æ•°æ®&quot;' + ')';<br>
})</p>
<p>CORSï¼š<br>
axios.get('http://127.0.0.01:3001/user/list').then(res=&gt;{<br>
console.log(res)<br>
})</p>
<p>const cors = require('koa2-cors');<br>
app.use(async (ctx, next) =&gt; {<br>
// å…è®¸æ¥è‡ªæ‰€æœ‰åŸŸåè¯·æ±‚<br>
ctx.set(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);<br>
// è¿™æ ·å°±èƒ½åªå…è®¸ http://localhost:8080 è¿™ä¸ªåŸŸåçš„è¯·æ±‚äº†<br>
// ctx.set(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:8080&quot;);</p>
<pre><code>// è®¾ç½®æ‰€å…è®¸çš„HTTPè¯·æ±‚æ–¹æ³•
ctx.set(&quot;Access-Control-Allow-Methods&quot;, &quot;OPTIONS, GET, PUT, POST, DELETE&quot;);

// å­—æ®µæ˜¯å¿…éœ€çš„ã€‚å®ƒä¹Ÿæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼Œè¡¨æ˜æœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰å¤´ä¿¡æ¯å­—æ®µ.
ctx.set(&quot;Access-Control-Allow-Headers&quot;, &quot;x-requested-with, accept, origin, content-type&quot;);

// æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ä»¥åï¼Œæ£€æŸ¥äº†Originã€Access-Control-Request-Methodå’ŒAccess-Control-Request-Headerså­—æ®µä»¥åï¼Œç¡®è®¤å…è®¸è·¨æºè¯·æ±‚ï¼Œå°±å¯ä»¥åšå‡ºå›åº”ã€‚

// Content-Typeè¡¨ç¤ºå…·ä½“è¯·æ±‚ä¸­çš„åª’ä½“ç±»å‹ä¿¡æ¯
ctx.set(&quot;Content-Type&quot;, &quot;application/json;charset=utf-8&quot;);

// è¯¥å­—æ®µå¯é€‰ã€‚å®ƒçš„å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å…è®¸å‘é€Cookieã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒCookieä¸åŒ…æ‹¬åœ¨CORSè¯·æ±‚ä¹‹ä¸­ã€‚
// å½“è®¾ç½®æˆå…è®¸è¯·æ±‚æºå¸¦cookieæ—¶ï¼Œéœ€è¦ä¿è¯&quot;Access-Control-Allow-Origin&quot;æ˜¯æœåŠ¡å™¨æœ‰çš„åŸŸåï¼Œè€Œä¸èƒ½æ˜¯&quot;*&quot;;
ctx.set(&quot;Access-Control-Allow-Credentials&quot;, true);

// è¯¥å­—æ®µå¯é€‰ï¼Œç”¨æ¥æŒ‡å®šæœ¬æ¬¡é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºç§’ã€‚
// å½“è¯·æ±‚æ–¹æ³•æ˜¯PUTæˆ–DELETEç­‰ç‰¹æ®Šæ–¹æ³•æˆ–è€…Content-Typeå­—æ®µçš„ç±»å‹æ˜¯application/jsonæ—¶ï¼ŒæœåŠ¡å™¨ä¼šæå‰å‘é€ä¸€æ¬¡è¯·æ±‚è¿›è¡ŒéªŒè¯
// ä¸‹é¢çš„çš„è®¾ç½®åªæœ¬æ¬¡éªŒè¯çš„æœ‰æ•ˆæ—¶é—´ï¼Œå³åœ¨è¯¥æ—¶é—´æ®µå†…æœåŠ¡ç«¯å¯ä»¥ä¸ç”¨è¿›è¡ŒéªŒè¯
ctx.set(&quot;Access-Control-Max-Age&quot;, 300);

/*
CORSè¯·æ±‚æ—¶ï¼ŒXMLHttpRequestå¯¹è±¡çš„getResponseHeader()æ–¹æ³•åªèƒ½æ‹¿åˆ°6ä¸ªåŸºæœ¬å­—æ®µï¼š
    Cache-Controlã€
    Content-Languageã€
    Content-Typeã€
    Expiresã€
    Last-Modifiedã€
    Pragmaã€‚
*/
// éœ€è¦è·å–å…¶ä»–å­—æ®µæ—¶ï¼Œä½¿ç”¨Access-Control-Expose-Headersï¼Œ
// getResponseHeader('myData')å¯ä»¥è¿”å›æˆ‘ä»¬æ‰€éœ€çš„å€¼
ctx.set(&quot;Access-Control-Expose-Headers&quot;, &quot;myData&quot;);

await next();
</code></pre>
<p>})</p>
<p>3 http proxy:</p>
<p>const proxy = require('http-proxy-middleware');<br>
module.exports = function (app) {<br>
app.use(proxy('/api', { target: 'http://localhost:3002/' }));<br>
};</p>
<p>CSRFï¼š<br>
<img src="https://TianhaoXi.github.io/post-images/1597663497671.jpg" alt="" loading="lazy"></p>
<h1 id="å›æµå’Œé‡ç»˜">å›æµå’Œé‡ç»˜</h1>
<p>https://www.jianshu.com/p/e081f9aa03fb<br>
å½“render treeä¸­çš„ä¸€éƒ¨åˆ†(æˆ–å…¨éƒ¨)å› ä¸ºå…ƒç´ çš„è§„æ¨¡å°ºå¯¸ï¼Œå¸ƒå±€ï¼Œéšè—ç­‰æ”¹å˜è€Œéœ€è¦é‡æ–°æ„å»ºã€‚è¿™å°±ç§°ä¸ºå›æµ(reflow)ã€‚<br>
å½“render treeä¸­çš„ä¸€äº›å…ƒç´ éœ€è¦æ›´æ–°å±æ€§ï¼Œè€Œè¿™äº›å±æ€§åªæ˜¯å½±å“å…ƒç´ çš„å¤–è§‚ï¼Œé£æ ¼ï¼Œè€Œä¸ä¼šå½±å“å¸ƒå±€çš„ï¼Œæ¯”å¦‚background-colorã€‚åˆ™å°±å«ç§°ä¸ºé‡ç»˜ã€‚<br>
https://blog.csdn.net/binlety/article/details/81390346<br>
https://blog.csdn.net/weixin_30289831/article/details/97202752?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param<br>
https://blog.csdn.net/qq_36360463/article/details/105129688?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param</p>
<h1 id="ä¸€æ¬¡æ€§åŠ è½½ä¸€ä¸‡ä¸ªæ ‡ç­¾">ä¸€æ¬¡æ€§åŠ è½½ä¸€ä¸‡ä¸ªæ ‡ç­¾</h1>
<p>document.createDocumentFrament</p>
<script>
	var container = document.getElementById('container')
	var fragment = document.createDocumentFragment()
	for(let i = 0; i < 10000; i++){
		let li = document.createElement('li')
		li.innerHTML = 'hello world'
	    fragment.appendChild(li)
	}
	container.appendChild(fragment);
</script>
<p>å‰ç«¯å·¥ç¨‹åŒ–:<br>
æ¨¡å—åŒ–<br>
ç®€å•æ¥è¯´ï¼Œæ¨¡å—åŒ–å°±æ˜¯å°†ä¸€ä¸ªå¤§æ–‡ä»¶æ‹†åˆ†æˆç›¸äº’ä¾èµ–çš„å°æ–‡ä»¶ï¼Œå†è¿›è¡Œç»Ÿä¸€çš„æ‹¼è£…å’ŒåŠ è½½ã€‚åªæœ‰è¿™æ ·ï¼Œæ‰æœ‰å¤šäººåä½œçš„å¯èƒ½ã€‚<br>
ç»„ä»¶åŒ–</p>
<h1 id="èŠ‚æµå’Œé˜²æŠ–">èŠ‚æµå’Œé˜²æŠ–</h1>
<p>å¯¹äºçŸ­æ—¶é—´å†…è¿ç»­è§¦å‘çš„äº‹ä»¶ï¼ˆä¸Šé¢çš„æ»šåŠ¨äº‹ä»¶ï¼‰ï¼Œé˜²æŠ–çš„å«ä¹‰å°±æ˜¯è®©æŸä¸ªæ—¶é—´æœŸé™ï¼ˆå¦‚ä¸Šé¢çš„1000æ¯«ç§’ï¼‰å†…ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ã€‚<br>
https://segmentfault.com/a/1190000018428170</p>
<p>function debounce(func,wait){<br>
let timer;</p>
<pre><code>return function(){
    clearTimeout(timer);
    timer = setTimeout(func,wait)
}
</code></pre>
<p>}</p>
<p>function real(){<br>
console.log(&quot;123&quot;);<br>
}</p>
<p>function throttle(func,wait,mustrun){<br>
let timeout,starttime = new Date();</p>
<pre><code>return ()=&gt;{
    let currenttime = new Date();
    clearTimeout(timeout)
    if(currenttime-starttime&gt;mustrun){
        func.apply(this,arguments)
        starttime = currenttime
    }
    else{
        timeout = setTimeout(func,wait)
    }
}
</code></pre>
<p>}</p>
<p>window.addEventListener(&quot;scroll&quot;,throttle(real,1000,1000))</p>
<p>#æ¸…é™¤æµ®åŠ¨<br>
æ–¹æ³•ä¸€ï¼šä½¿ç”¨å¸¦clearå±æ€§çš„ç©ºå…ƒç´ <br>
åœ¨æµ®åŠ¨å…ƒç´ åä½¿ç”¨ä¸€ä¸ªç©ºå…ƒç´ å¦‚<div class="clear"></div>ï¼Œå¹¶åœ¨CSSä¸­èµ‹äºˆ.clear{clear:both;}å±æ€§å³å¯æ¸…ç†æµ®åŠ¨ã€‚äº¦å¯ä½¿ç”¨<br class="clear" />æˆ–<hr class="clear" />æ¥è¿›è¡Œæ¸…ç†ã€‚</p>
<p>.clearfix:after{/<em>ä¼ªå…ƒç´ æ˜¯è¡Œå†…å…ƒç´  æ­£å¸¸æµè§ˆå™¨æ¸…é™¤æµ®åŠ¨æ–¹æ³•</em>/<br>
content: &quot;&quot;;<br>
display: block;<br>
height: 0;<br>
clear:both;<br>
visibility: hidden;<br>
}</p>
<p>BFC:<br>
ä¸‰ã€è§¦å‘ BFC<br>
åªè¦å…ƒç´ æ»¡è¶³ä¸‹é¢ä»»ä¸€æ¡ä»¶å³å¯è§¦å‘ BFC ç‰¹æ€§ï¼š<br>
body æ ¹å…ƒç´ <br>
æµ®åŠ¨å…ƒç´ ï¼šfloat é™¤ none ä»¥å¤–çš„å€¼<br>
ç»å¯¹å®šä½å…ƒç´ ï¼šposition (absoluteã€fixed)<br>
display ä¸º inline-blockã€table-cellsã€flex<br>
overflow é™¤äº† visible ä»¥å¤–çš„å€¼ (hiddenã€autoã€scroll)</p>
<h1 id="csså±…ä¸­">csså±…ä¸­</h1>
<p>è¡Œå†…æ°´å¹³ text-align:center</p>
<p>blockå±…ä¸­:<br>
display:flex;<br>
align-items: center;<br>
justify-content:center;</p>
<p>position:absolute;<br>
left:50%;<br>
top:50%;<br>
transform: translate(-50%,-50%);</p>
<p>#å·¦è¾¹å›ºå®šå®½åº¦ï¼Œå³è¾¹è‡ªé€‚åº”<br>
1.<br>
.left{<br>
float: left;<br>
width: 200px;<br>
background: red;<br>
}<br>
.right{<br>
margin-left: 200px;<br>
background: blue;<br>
}</p>
<ol start="2">
<li>
<p>.right{<br>
overflow: hidden;<br>
background: blue;<br>
}</p>
</li>
<li>
<p>flex:<br>
.wrapper{<br>
display: flex;<br>
}<br>
.left,.right{<br>
height: 100px;<br>
}<br>
.left{<br>
width: 200px;<br>
background: red;<br>
}<br>
.right{<br>
flex: 1;<br>
background: blue;<br>
}</p>
</li>
</ol>
<h1 id="ç™½å±ä¼˜åŒ–">ç™½å±ä¼˜åŒ–</h1>
<p>https://blog.csdn.net/PHPxiaoxuesheng/article/details/100935993</p>
<p>#å¼ºç¼“å­˜ä¸åå•†ç¼“å­˜<br>
https://www.jianshu.com/p/9c95db596df5<br>
å¼ºç¼“å­˜<br>
åˆ°åº•ä»€ä¹ˆæ˜¯å¼ºç¼“å­˜ï¼Ÿå¼ºåœ¨å“ªï¼Ÿå…¶å®å¼ºæ˜¯å¼ºåˆ¶çš„æ„æ€ã€‚å½“æµè§ˆå™¨å»è¯·æ±‚æŸä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯å°±åœ¨respone headeré‡Œé¢å¯¹è¯¥æ–‡ä»¶åšäº†ç¼“å­˜é…ç½®ã€‚ç¼“å­˜çš„æ—¶é—´ã€ç¼“å­˜ç±»å‹éƒ½ç”±æœåŠ¡ç«¯æ§åˆ¶ï¼Œå…·ä½“è¡¨ç°ä¸ºï¼š<br>
respone header çš„cache-controlï¼Œå¸¸è§çš„è®¾ç½®æ˜¯max-age public private no-cache no-storeç­‰<br>
å¦‚æœcahe-control:max-age=315360000,publicå†åŠ ä¸ªimmutableçš„è¯ï¼Œå°±ç®—ç”¨æˆ·åˆ·æ–°é¡µé¢ï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šå‘èµ·è¯·æ±‚å»æœåŠ¡ï¼Œæµè§ˆå™¨ä¼šç›´æ¥ä»æœ¬åœ°ç£ç›˜æˆ–è€…å†…å­˜ä¸­è¯»å–ç¼“å­˜å¹¶è¿”å›200çŠ¶æ€</p>
<h1 id="æµè§ˆå™¨çš„çº¿ç¨‹">æµè§ˆå™¨çš„çº¿ç¨‹</h1>
<p>https://segmentfault.com/a/1190000013083967</p>
<h1 id="deepclone">deepClone</h1>
<p>function deepClone(target){<br>
let result;<br>
if(typeof result === 'object'){<br>
if(target instanceof Array){<br>
result = [];<br>
for(let i =0;i&lt;tartget.length;i++){<br>
result.push(deepClone(target[i]))<br>
}<br>
}<br>
else if(target ===null){<br>
result = null;<br>
}<br>
else if( target.<strong>proto</strong>.constructor ===RegExp){<br>
result = target;<br>
}<br>
else{<br>
result = {};<br>
for(let i in target){<br>
result[i] = deepClone(target[i])<br>
}<br>
}<br>
}<br>
else{<br>
result = target;<br>
}</p>
<pre><code>return result;
</code></pre>
<p>}</p>
<h1 id="åƒåœ¾å›æ”¶æœºåˆ¶">åƒåœ¾å›æ”¶æœºåˆ¶</h1>
<p>https://segmentfault.com/a/1190000018605776?utm_source=tag-newest</p>
<h1 id="cors-ç®€å•-å¤æ‚è¯·æ±‚">cors ç®€å• å¤æ‚è¯·æ±‚</h1>
<p>https://www.cnblogs.com/qunxiadexiaoxiangjiao/p/9446956.html</p>
<p>#åŸç”ŸjsonP</p>
<script>
let response = ""
function jsonp_callback(data){
    console.log(data)
    response = data;
}
</script>
<script src="http://localhost:3002/api/comment?callback=jsonp_callback_function"">
</script>
<p>#bind curry<br>
Function.prototype.bind = function (context) {<br>
var _this = this<br>
var args = Array.prototype.slice.call(arguments, 1)</p>
<pre><code>return function() {
    return _this.apply(context, args)
}
</code></pre>
<p>}</p>
<p>mvc mvvm<br>
Mã€Vã€C<br>
Modelï¼ˆæ¨¡å‹ï¼‰ï¼šæ˜¯åº”ç”¨ç¨‹åºä¸­ç”¨äºå¤„ç†åº”ç”¨ç¨‹åºæ•°æ®é€»è¾‘çš„éƒ¨åˆ†ã€‚<br>
é€šå¸¸æ¨¡å‹å¯¹è±¡è´Ÿè´£åœ¨æ•°æ®åº“ä¸­å­˜å–æ•°æ®ã€‚<br>
Viewï¼ˆè§†å›¾ï¼‰ï¼šæ˜¯åº”ç”¨ç¨‹åºä¸­å¤„ç†æ•°æ®æ˜¾ç¤ºçš„éƒ¨åˆ†ã€‚<br>
é€šå¸¸è§†å›¾æ˜¯ä¾æ®æ¨¡å‹æ•°æ®åˆ›å»ºçš„ã€‚<br>
Controllerï¼ˆæ§åˆ¶å™¨ï¼‰ï¼šæ˜¯åº”ç”¨ç¨‹åºä¸­å¤„ç†ç”¨æˆ·äº¤äº’çš„éƒ¨åˆ†ã€‚<br>
é€šå¸¸æ§åˆ¶å™¨è´Ÿè´£ä»è§†å›¾è¯»å–æ•°æ®ï¼Œæ§åˆ¶ç”¨æˆ·è¾“å…¥ï¼Œå¹¶å‘æ¨¡å‹å‘é€æ•°æ®ã€‚<br>
mvvm:<br>
Viewçš„å˜åŠ¨ï¼Œè‡ªåŠ¨åæ˜ åœ¨ ViewModelï¼Œåä¹‹äº¦ç„¶ã€‚</p>
<h1 id="äº‹ä»¶å§”æ‰˜">äº‹ä»¶å§”æ‰˜</h1>
<p>window.onload = function(){<br>
ã€€ã€€var oUl = document.getElementById(&quot;ul1&quot;);<br>
ã€€ã€€oUl.onclick = function(ev){<br>
ã€€ã€€ã€€ã€€var ev = ev || window.event;<br>
ã€€ã€€ã€€ã€€var target = ev.target || ev.srcElement;<br>
ã€€ã€€ã€€ã€€if(target.nodeName.toLowerCase() == 'li'){<br>
ã€€ ã€€ã€€ã€€ã€€ã€€ã€€ alert(123);<br>
ã€€ã€€ã€€ã€€ã€€ã€€ã€€  alert(target.innerHTML);<br>
ã€€ã€€ã€€ã€€}<br>
ã€€ã€€}<br>
}</p>
<h1 id="ç®­å¤´å‡½æ•°">ç®­å¤´å‡½æ•°ï¼š</h1>
<p>ES6 å¢åŠ äº†ç®­å¤´å‡½æ•°ï¼ŒåŸºæœ¬è¯­æ³•ä¸º<br>
let func = value =&gt; value;</p>
<p>ç›¸å½“äº</p>
<p>let func = function (value) {</p>
<p>return value;</p>
<p>};</p>
<p>ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«åœ¨äºï¼š</p>
<p>1ã€ç®­å¤´å‡½æ•°æ²¡æœ‰thisï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡æŸ¥æ‰¾ä½œç”¨åŸŸé“¾æ¥ç¡®å®šthisçš„å€¼ï¼Œè¿™å°±æ„å‘³ç€å¦‚æœç®­å¤´å‡½æ•°è¢«éç®­å¤´å‡½æ•°åŒ…å«ï¼Œthisç»‘å®šçš„å°±æ˜¯æœ€è¿‘ä¸€å±‚éç®­å¤´å‡½æ•°çš„thisï¼Œ</p>
<p>2ã€ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„argumentså¯¹è±¡ï¼Œä½†æ˜¯å¯ä»¥è®¿é—®å¤–å›´å‡½æ•°çš„argumentså¯¹è±¡</p>
<p>3ã€ä¸èƒ½é€šè¿‡newå…³é”®å­—è°ƒç”¨ï¼ŒåŒæ ·ä¹Ÿæ²¡æœ‰new.targetå€¼å’ŒåŸå‹</p>
<p>#ç®€å•è®²ä¸€è®²ES6çš„ä¸€äº›æ–°ç‰¹æ€§</p>
<p>ES6åœ¨å˜é‡çš„å£°æ˜å’Œå®šä¹‰æ–¹é¢å¢åŠ äº†letã€constå£°æ˜å˜é‡ï¼Œæœ‰å±€éƒ¨å˜é‡çš„æ¦‚å¿µï¼Œèµ‹å€¼ä¸­æœ‰æ¯”è¾ƒå¸å¼•äººçš„ç»“æ„èµ‹å€¼ï¼ŒåŒæ—¶ES6å¯¹å­—ç¬¦ä¸²ã€ æ•°ç»„ã€æ­£åˆ™ã€å¯¹è±¡ã€å‡½æ•°ç­‰æ‹“å±•äº†ä¸€äº›æ–¹æ³•ï¼Œå¦‚å­—ç¬¦ä¸²æ–¹é¢çš„æ¨¡æ¿å­—ç¬¦ä¸²ã€å‡½æ•°æ–¹é¢çš„é»˜è®¤å‚æ•°ã€å¯¹è±¡æ–¹é¢å±æ€§çš„ç®€æ´è¡¨è¾¾æ–¹å¼ï¼ŒES6ä¹Ÿ å¼•å…¥äº†æ–°çš„æ•°æ®ç±»å‹symbolï¼Œæ–°çš„æ•°æ®ç»“æ„setå’Œmap,symbolå¯ä»¥é€šè¿‡typeofæ£€æµ‹å‡ºæ¥ï¼Œä¸ºè§£å†³å¼‚æ­¥å›è°ƒé—®é¢˜ï¼Œå¼•å…¥äº†promiseå’Œ generatorï¼Œè¿˜æœ‰æœ€ä¸ºå¸å¼•äººäº†å®ç°Classå’Œæ¨¡å—ï¼Œé€šè¿‡Classå¯ä»¥æ›´å¥½çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä½¿ç”¨æ¨¡å—åŠ è½½æ–¹ä¾¿æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œå½“ç„¶è€ƒè™‘åˆ° æµè§ˆå™¨å…¼å®¹æ€§ï¼Œæˆ‘ä»¬åœ¨å®é™…å¼€å‘ä¸­éœ€è¦ä½¿ç”¨babelè¿›è¡Œç¼–è¯‘<br>
é‡è¦çš„ç‰¹æ€§ï¼š</p>
<p>å—çº§ä½œç”¨åŸŸï¼šES5åªæœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸï¼Œå—çº§ä½œç”¨åŸŸçš„å¥½å¤„æ˜¯ä¸å†éœ€è¦ç«‹å³æ‰§è¡Œçš„å‡½æ•°è¡¨è¾¾å¼ï¼Œå¾ªç¯ä½“ä¸­çš„é—­åŒ…ä¸å†æœ‰é—®é¢˜</p>
<p>restå‚æ•°ï¼šç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨argumentså¯¹è±¡äº†ï¼Œ</p>
<p>promise:ä¸€ç§å¼‚æ­¥ç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆå›è°ƒå‡½æ•°å’Œäº‹ä»¶æ›´åˆç†å¼ºå¤§</p>
<p>æ¨¡å—åŒ–ï¼šå…¶æ¨¡å—åŠŸèƒ½ä¸»è¦æœ‰ä¸¤ä¸ªå‘½ä»¤æ„æˆï¼Œexportå’Œimportï¼Œexportå‘½ä»¤ç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£ï¼Œimportå‘½ä»¤ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½</p>
<p>æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDocument Object Modelï¼Œç®€ç§°DOMï¼‰ï¼Œæ˜¯W3Cç»„ç»‡æ¨èçš„å¤„ç†å¯æ‰©å±•æ ‡å¿—è¯­è¨€çš„æ ‡å‡†ç¼–ç¨‹æ¥å£ã€‚åœ¨ç½‘é¡µä¸Šï¼Œç»„ç»‡é¡µé¢ï¼ˆæˆ–æ–‡æ¡£ï¼‰çš„å¯¹è±¡è¢«ç»„ç»‡åœ¨ä¸€ä¸ªæ ‘å½¢ç»“æ„ä¸­ï¼Œç”¨æ¥è¡¨ç¤ºæ–‡æ¡£ä¸­å¯¹è±¡çš„æ ‡å‡†æ¨¡å‹å°±ç§°ä¸ºDOMã€‚</p>
<p>webpackæ˜¯ä¸€ä¸ªå‰ç«¯æ¨¡å—åŒ–æ–¹æ¡ˆï¼Œæ›´ä¾§é‡æ¨¡å—æ‰“åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¼€å‘ä¸­çš„æ‰€æœ‰èµ„æºï¼ˆå›¾ç‰‡ã€jsæ–‡ä»¶ã€cssæ–‡ä»¶ç­‰ï¼‰éƒ½çœ‹æˆæ¨¡å—ï¼Œé€šè¿‡loaderï¼ˆåŠ è½½å™¨ï¼‰å’Œpluginsï¼ˆæ’ä»¶ï¼‰å¯¹èµ„æºè¿›è¡Œå¤„ç†ï¼Œæ‰“åŒ…æˆç¬¦åˆç”Ÿäº§ç¯å¢ƒéƒ¨ç½²çš„å‰ç«¯èµ„æº</p>
<p>redux<br>
åœ¨ç»„ä»¶åŒ–çš„åº”ç”¨ä¸­ï¼Œä¼šæœ‰ç€å¤§é‡çš„ç»„ä»¶å±‚çº§å…³ç³»ï¼Œæ·±åµŒå¥—çš„ç»„ä»¶ä¸æµ…å±‚çˆ¶ç»„ä»¶è¿›è¡Œæ•°æ®äº¤äº’ï¼Œå˜å¾—ååˆ†ç¹çå›°éš¾ã€‚è€Œreduxï¼Œç«™åœ¨ä¸€ä¸ªæœåŠ¡çº§åˆ«çš„è§’åº¦ï¼Œå¯ä»¥æ¯«æ— é˜»ç¢åœ°å°†åº”ç”¨çš„çŠ¶æ€ä¼ é€’åˆ°æ¯ä¸€ä¸ªå±‚çº§çš„ç»„ä»¶ä¸­ã€‚reduxå°±ç›¸å½“äºæ•´ä¸ªåº”ç”¨çš„ç®¡å®¶ã€‚<br>
æä¾› getState() æ–¹æ³•è·å– stateï¼›<br>
æä¾› dispatch(action) æ–¹æ³•æ›´æ–° stateï¼›<br>
é€šè¿‡ subscribe(listener) æ³¨å†Œç›‘å¬å™¨;<br>
React æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JAVASCRIPT åº“ã€‚Reactä¸»è¦ç”¨äºæ„å»ºUIï¼Œå¾ˆå¤šäººè®¤ä¸º React æ˜¯ MVC ä¸­çš„ Vï¼ˆè§†å›¾ï¼‰<br>
Reactç‰¹ç‚¹æœ‰ï¼š</p>
<p>1.å£°æ˜å¼è®¾è®¡ âˆ’Reacté‡‡ç”¨å£°æ˜èŒƒå¼ï¼Œå¯ä»¥è½»æ¾æè¿°åº”ç”¨ã€‚</p>
<p>2.é«˜æ•ˆ âˆ’Reacté€šè¿‡å¯¹DOMçš„æ¨¡æ‹Ÿï¼Œæœ€å¤§é™åº¦åœ°å‡å°‘ä¸DOMçš„äº¤äº’ã€‚</p>
<p>3.çµæ´» âˆ’Reactå¯ä»¥ä¸å·²çŸ¥çš„åº“æˆ–æ¡†æ¶å¾ˆå¥½åœ°é…åˆã€‚</p>
<p>4.JSX âˆ’ JSX æ˜¯ JavaScript è¯­æ³•çš„æ‰©å±•ã€‚React å¼€å‘ä¸ä¸€å®šä½¿ç”¨ JSX ï¼Œä½†æˆ‘ä»¬å»ºè®®ä½¿ç”¨å®ƒã€‚</p>
<p>5.ç»„ä»¶ âˆ’ é€šè¿‡ React æ„å»ºç»„ä»¶ï¼Œä½¿å¾—ä»£ç æ›´åŠ å®¹æ˜“å¾—åˆ°å¤ç”¨ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„åº”ç”¨åœ¨å¤§é¡¹ç›®çš„å¼€å‘ä¸­ã€‚</p>
<p>6.å•å‘å“åº”çš„æ•°æ®æµ âˆ’ React å®ç°äº†å•å‘å“åº”çš„æ•°æ®æµï¼Œä»è€Œå‡å°‘äº†é‡å¤ä»£ç ï¼Œè¿™ä¹Ÿæ˜¯å®ƒä¸ºä»€ä¹ˆæ¯”ä¼ ç»Ÿæ•°æ®ç»‘å®šæ›´ç®€å•ã€‚<br>
åœ¨Reactä¸­ï¼Œæ•°æ®æ˜¯å•å‘æµåŠ¨çš„ï¼Œæ˜¯ä»ä¸Šå‘ä¸‹çš„æ–¹å‘ï¼Œå³ä»çˆ¶ç»„ä»¶åˆ°å­ç»„ä»¶çš„æ–¹å‘ã€‚<br>
stateå’Œpropsæ˜¯å…¶ä¸­é‡è¦çš„æ¦‚å¿µï¼Œå¦‚æœé¡¶å±‚ç»„ä»¶åˆå§‹åŒ–propsï¼Œé‚£ä¹ˆReactä¼šå‘ä¸‹éå†æ•´é¢—ç»„ä»¶æ ‘ï¼Œé‡æ–°æ¸²æŸ“ç›¸å…³çš„å­ç»„ä»¶ã€‚å…¶ä¸­stateè¡¨ç¤ºçš„æ˜¯æ¯ä¸ªç»„ä»¶ä¸­å†…éƒ¨çš„çš„çŠ¶æ€ï¼Œè¿™äº›çŠ¶æ€åªåœ¨ç»„ä»¶å†…éƒ¨æ”¹å˜ã€‚<br>
æŠŠç»„ä»¶çœ‹æˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆä»–æ¥å—propsä½œä¸ºå‚æ•°ï¼Œå†…éƒ¨ç”±stateä½œä¸ºå‡½æ•°çš„å†…éƒ¨å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªè™šæ‹Ÿdomçš„å®ç°ã€‚<br>
diffç®—æ³•ï¼Œdiffç®—æ³•æœ‰ä¸‰ç§ä¼˜åŒ–å½¢å¼ï¼š<br>
tree diffï¼šå°†æ–°æ—§ä¸¤é¢—DOMæ ‘æŒ‰ç…§å±‚çº§éå†ï¼Œåªå¯¹åŒçº§çš„DOMèŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå³åŒä¸€çˆ¶èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œå½“å‘ç°èŠ‚ç‚¹å·²ç»ä¸å­˜åœ¨ï¼Œåˆ™è¯¥èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹ä¼šè¢«å®Œå…¨åˆ é™¤ï¼Œä¸ä¼šè¿›ä¸€æ­¥æ¯”è¾ƒ</p>
<p>component diffï¼šä¸åŒç»„ä»¶ä¹‹é—´çš„å¯¹æ¯”ï¼Œå¦‚æœç»„ä»¶ç±»å‹ç›¸åŒï¼Œæš‚ä¸æ›´æ–°ï¼Œå¦åˆ™åˆ é™¤æ—§çš„ç»„ä»¶ï¼Œå†åˆ›å»ºä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œæ’å…¥åˆ°åˆ é™¤ç»„ä»¶çš„ä½ç½®</p>
<p>element diff:åœ¨ç±»å‹ç›¸åŒçš„ç»„ä»¶å†…ï¼Œå†ç»§ç»­å¯¹æ¯”ç»„ä»¶å†…éƒ¨çš„å…ƒç´ ï¼Œ</p>
<p>åœ¨ä»£ç ä¸­è°ƒç”¨setStateå‡½æ•°ä¹‹åï¼ŒReact ä¼šå°†ä¼ å…¥çš„å‚æ•°å¯¹è±¡ä¸ç»„ä»¶å½“å‰çš„çŠ¶æ€åˆå¹¶ï¼Œç„¶åè§¦å‘æ‰€è°“çš„è°ƒå’Œè¿‡ç¨‹ï¼ˆReconciliationï¼‰ã€‚ ç»è¿‡è°ƒå’Œè¿‡ç¨‹ï¼ŒReact ä¼šä»¥ç›¸å¯¹é«˜æ•ˆçš„æ–¹å¼æ ¹æ®æ–°çš„çŠ¶æ€æ„å»º React å…ƒç´ æ ‘å¹¶ä¸”ç€æ‰‹é‡æ–°æ¸²æŸ“æ•´ä¸ªUIç•Œé¢ã€‚ åœ¨ React å¾—åˆ°å…ƒç´ æ ‘ä¹‹åï¼ŒReact ä¼šè‡ªåŠ¨è®¡ç®—å‡ºæ–°çš„æ ‘ä¸è€æ ‘çš„èŠ‚ç‚¹å·®å¼‚ï¼Œç„¶åæ ¹æ®å·®å¼‚å¯¹ç•Œé¢è¿›è¡Œæœ€å°åŒ–é‡æ¸²æŸ“ã€‚ åœ¨å·®å¼‚è®¡ç®—ç®—æ³•ä¸­ï¼ŒReact èƒ½å¤Ÿç›¸å¯¹ç²¾ç¡®åœ°çŸ¥é“å“ªäº›ä½ç½®å‘ç”Ÿäº†æ”¹å˜ä»¥åŠåº”è¯¥å¦‚ä½•æ”¹å˜ï¼Œè¿™å°±ä¿è¯äº†æŒ‰éœ€æ›´æ–°ï¼Œè€Œä¸æ˜¯å…¨éƒ¨é‡æ–°æ¸²æŸ“ã€‚</p>
<p>å•ä¾‹æ¨¡å¼ï¼šåœ¨å®ƒçš„æ ¸å¿ƒç»“æ„ä¸­å€¼åŒ…å«ä¸€ä¸ªè¢«ç§°ä¸ºå•ä¾‹çš„ç‰¹æ®Šç±»ã€‚ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå³ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚<br>
å·¥å‚æ¨¡å¼ï¼šåœ¨åˆ›å»ºå¯¹è±¡æ—¶ä¸ä¼šå¯¹å®¢æˆ·ç«¯æš´éœ²åˆ›å»ºé€»è¾‘ï¼Œå¹¶ä¸”æ˜¯é€šè¿‡ä½¿ç”¨ä¸€ä¸ªå…±åŒçš„æ¥å£æ¥æŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚</p>
<p>å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼šåœ¨è½¯ä»¶æ¶æ„ä¸­ï¼Œå‘å¸ƒè®¢é˜…æ˜¯ä¸€ç§æ¶ˆæ¯èŒƒå¼ï¼Œæ¶ˆæ¯çš„å‘é€è€…ï¼ˆç§°ä¸ºå‘å¸ƒè€…ï¼‰ä¸ä¼šå°†æ¶ˆæ¯ç›´æ¥å‘é€ç»™ç‰¹å®šçš„æ¥æ”¶è€…ï¼ˆç§°ä¸ºè®¢é˜…è€…ï¼‰ã€‚è€Œæ˜¯å°†å‘å¸ƒçš„æ¶ˆæ¯åˆ†ä¸ºä¸åŒçš„ç±»åˆ«ï¼Œæ— éœ€äº†è§£å“ªäº›è®¢é˜…è€…ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å¯èƒ½å­˜åœ¨ã€‚åŒæ ·çš„ï¼Œè®¢é˜…è€…å¯ä»¥è¡¨è¾¾å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªç±»åˆ«çš„å…´è¶£ï¼Œåªæ¥æ”¶æ„Ÿå…´è¶£çš„æ¶ˆæ¯ï¼Œæ— éœ€äº†è§£å“ªäº›å‘å¸ƒè€…ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å­˜åœ¨ã€‚</p>
<h1 id="å‰ç«¯æ€§èƒ½ä¼˜åŒ–">å‰ç«¯æ€§èƒ½ä¼˜åŒ–</h1>
<p>å‰ç«¯æ€§èƒ½ä¼˜åŒ–æœ‰ä¸ƒå¤§æ‰‹æ®µï¼šå‡å°‘è¯·æ±‚æ•°é‡ï¼Œå‡å°‘èµ„æºå¤§å°ï¼Œä¼˜åŒ–ç½‘ç»œè¿æ¥ï¼Œä¼˜åŒ–èµ„æºåŠ è½½ï¼Œå‡å°‘é‡ç»˜å›æµï¼Œä½¿ç”¨æ€§èƒ½æ›´å¥½çš„APIå’Œæ„å»ºä¼˜åŒ–<br>
å‡å°‘è¯·æ±‚æ•°é‡ï¼šé€šè¿‡å‡å°‘é‡å®šå‘ï¼Œä½¿ç”¨ç¼“å­˜ï¼Œä¸é€‚ç”¨CSS@importï¼Œé¿å…ä½¿ç”¨ç©ºçš„srcå’Œhrefç­‰æ‰‹æ®µ</p>
<p>å‡å°‘èµ„æºå¤§å°ï¼šé€šè¿‡å‹ç¼©HTMLï¼ŒCSSï¼ŒJSï¼Œå›¾ç‰‡ï¼Œæ­¤å¤–åœ¨å®‰å“ä¸‹å¯ä»¥ä½¿ç”¨webpæ ¼å¼çš„å›¾ç‰‡ï¼Œå®ƒå…·æœ‰æ›´ä¼˜çš„å›¾åƒæ•°æ®å‹ç¼©ç®—æ³•ï¼Œèƒ½å¸¦æ¥æ›´å°çš„å›¾ç‰‡ä½“ç§¯ï¼Œè¿˜å¯ä»¥å¼€å¯gzip,gzipç¼–ç æ˜¯ä»¥åæ€»ç”¨æ¥æ”¹è¿›webåº”ç”¨ç¨‹åºæ€§èƒ½çš„æŠ€æœ¯ï¼Œ</p>
<p>ä¼˜åŒ–ç½‘ç»œè¿æ¥ï¼šä½¿ç”¨CDNï¼Œä½¿ç”¨DNSé¢„è§£æï¼Œå¹¶è¡Œè¿æ¥ï¼Œ</p>
<p>ä¼˜åŒ–èµ„æºåŠ è½½ï¼Œé€šè¿‡ä¼˜åŒ–èµ„æºåŠ è½½ä½ç½®å’Œæ—¶æœºï¼Œä½¿ç”¨èµ„æºé¢„åŠ è½½preloadå’Œèµ„æºé¢„è¯»å–prefetch</p>
<p>å‡å°‘é‡ç»˜å›æµï¼Œ1ï¼šé¿å…ä½¿ç”¨å±‚çº§è¾ƒæ·±çš„CSSé€‰æ‹©å™¨ï¼Œä»¥æé«˜CSSæ¸²æŸ“æ•ˆç‡2ã€é¿å…ä½¿ç”¨CSSè¡¨è¾¾å¼ï¼Œ3ã€ç»™å…ƒç´ é€‚å½“çš„å®šä¹‰é«˜åº¦æˆ–æœ€å°é«˜åº¦ï¼Œå¦åˆ™å…ƒç´ çš„åŠ¨æ€å†…å®¹è½½å…¥æ—¶ï¼Œä¼šå‡ºç°é¡µé¢æ™ƒåŠ¨ï¼Œé€ æˆå›æµï¼Œ4ã€ä¸è¦ä½¿ç”¨tableå¸ƒå±€ï¼Œ5ã€èƒ½ç”¨CSSå®ç°çš„æ•ˆæœï¼Œå°½é‡ä½¿ç”¨CSSè€Œä¸ç”¨JSå®ç°</p>
<p>ä½¿ç”¨æ€§èƒ½æ›´å¥½çš„api,</p>
<p>éšæœºåˆ›é€ hex<br>
let hex = ()=&gt;{<br>
return res = &quot;#&quot;+Math.floor(Math.random()*0xffffff).toString(16)<br>
}</p>
<p>hex2rgb<br>
function hexToRgb(hex) {<br>
return &quot;rgb(&quot; + parseInt(&quot;0x&quot; + hex.slice(1, 3)) + &quot;,&quot; + parseInt(&quot;0x&quot; + hex.slice(3, 5)) + &quot;,&quot; + parseInt(&quot;0x&quot; + hex.slice(5, 7))<br>
}</p>
<p>ä½¿ç”¨newè°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼šæ‰§è¡Œ[[construct]]æ–¹æ³•ï¼š<br>
(1) åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªç»§æ‰¿è‡ª fn.prototype çš„æ–°å¯¹è±¡<br>
(2) æŠŠå‡½æ•°ä½“çš„thisæŒ‡å‘æ–°å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œå‡½æ•°ä½“ã€‚<br>
(3) é»˜è®¤è¿”å›æ–°å¯¹è±¡ã€‚å¦‚æœæ„é€ å‡½æ•°æŒ‡å®šçš„è¿”å›å€¼ä¸ºå¤æ‚ç±»å‹ï¼Œä¼šè¦†ç›–æ‰é»˜è®¤è¿”å›å€¼ã€‚</p>
]]></content>
    </entry>
</feed>